(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e347"],{d522:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticClass:"Container-Tabs",attrs:{title:"调拨需求详情","mask-closable":!1,width:"800"},on:{"on-cancel":e.ClearModal},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[a("Tabs",{attrs:{name:"TransferDemandDetail",closable:!1,value:e.ActiveTab},on:{"on-click":e.ChangeTabs}},[a("TabPane",{attrs:{label:"基本信息",name:"Info",tab:"TransferDemandDetail"}},[a("Form",{ref:"DetailForm",attrs:{"label-width":110,inline:"",model:e.DetailForm}},[e.IsTransferInBox?e._e():a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"编号："}},[a("p",[e._v(e._s(e.DetailForm.SkuCode))])]),e.IsTransferInBox?a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"箱号："}},[a("p",[e._v(e._s(e.DetailForm.TransferBoxCode))])]):e._e(),a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"创建时间："}},[e.IsTransferInBox?a("p",[e._v(e._s(e.$UI.Render.Date(e.DetailForm.Created,!0)))]):a("p",[e._v(e._s(e.$UI.Render.Date(e.DetailForm.CreatedTime,!0)))])]),a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"目标仓："}},[e.IsTransferInBox?a("p",[e._v(e._s(e.DetailForm.TargetWarehouseName))]):a("p",[e._v(e._s(e.DetailForm.TargetWarehouse))])]),a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"来源仓："}},[e.IsTransferInBox?a("p",[e._v(e._s(e.DetailForm.OriginWarehouseName))]):a("p",[e._v(e._s(e.DetailForm.OriginWarehouse))])]),e.IsTransferInBox?a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"第三方仓库单号："}},[a("p",[e._v(e._s(e.DetailForm.StoreInCode))])]):e._e(),e.IsTransferInBox?a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"费用："}},[a("p",[e._v(e._s(e.DetailForm.LogisticsAmt)+" CNY")])]):e._e(),e.IsTransferInBox?a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"物流公司："}},[a("p",[e._v(e._s(""===e.DetailForm.LogisticsCmp?"-":e.DetailForm.LogisticsCmp))])]):e._e(),e.IsTransferInBox?a("FormItem",{staticClass:"P-W-49-Percent",attrs:{label:"快递单号："}},[a("p",[e._v(e._s(""===e.DetailForm.TrackingNumber?"-":e.DetailForm.TrackingNumber))])]):e._e(),e.IsTransferInBox?e._e():a("FormItem",{staticClass:"P-W-100-Percent",attrs:{label:"批次号："}},[a("p",[e._v(e._s(""===e.DetailForm.TransferRequireBatchCode?"-":e.DetailForm.TransferRequireBatchCode))])]),e.IsTransferInBox?e._e():a("FormItem",{staticClass:"P-W-100-Percent",attrs:{label:"备注："}},[a("p",[e._v(e._s(""===e.DetailForm.Remark?"-":e.DetailForm.Remark))])])],1),a("Table",{attrs:{columns:e.Columns,data:e.ProductData,border:"",height:"180"}})],1),a("TabPane",{attrs:{label:"操作记录",name:"History",tab:"TransferDemandDetail"}},[a("Table",{attrs:{columns:e.HistoryCol,data:e.DetailForm.Historys,border:"",height:"400"}})],1)],1),a("footer",{staticClass:"P-TA-R",attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:e.ClearModal}},[e._v("返回")])],1)],1)},s=[],n=a("3231"),i=a("064d"),o=a("46d7"),l=a("631e"),c=a("4a81"),m=a("d11d"),u=a("1f41"),I=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.ProductData=[],e.IsTransferInBox=!1,e.IsOpen=!1,e.ActiveTab="Info",e.DetailForm=new u["a"].TransferDemandDetail,e.Columns=[{title:"物品列表",align:"center",children:[{title:"SKU编号",key:"SkuCode"},{title:"产品名",key:"SkuName"},{title:"调拨数量",key:"Quantity"}]}],e.HistoryCol=[{title:"编号",width:60,render:function(e,t){return e("span",t.index+1)}},{title:"操作人",key:"Operater",width:100},{title:"操作时间",width:160,render:function(t,a){return t("span",e.$UI.Render.Date(a.row.OperatedTime,!0))}},{title:"操作记录",key:"Note",render:function(e,t){return e("Tooltip",{props:{content:t.row.Note},class:"P-LINE-1"},t.row.Note)}}],e}return Object(i["a"])(a,[{key:"ClearModal",value:function(){this.IsOpen=!1,this.ActiveTab="Info"}},{key:"TriggerModal",value:function(e,t){t?(this.IsTransferInBox=!0,this.DetailForm=new u["a"].TransferInBoxDetail,this.Columns=[{title:"物品列表",align:"center",children:[{title:"SKU编号",key:"SkuCode"},{title:"产品名",key:"SkuName"},{title:"调拨数量",key:"TransferInQty"},{title:"实际入库数量",key:"ActualInQty"}]}],this.GetSkuDetail(e.Id)):(this.IsTransferInBox=!1,this.DetailForm=new u["a"].TransferDemandDetail),this.IsOpen=!0,this.ProductData=[],this.GetDetail(e.Id)}},{key:"ChangeTabs",value:function(e){this.ActiveTab=e}},{key:"GetDetail",value:function(e){var t=this;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Warehouse,Api:{Address:this.IsTransferInBox?this.$Api.TransferInBoxDetail:this.$Api.TransferRequireDetail,Login:!0},Data:e,Callback:function(e){if(t.$UI.Loading.Hide(),e.IsSuccess){if(t.DetailForm=e.Data.Data,!t.IsTransferInBox){var a=new u["a"].ProductInfoTb;a.SkuCode=t.DetailForm.SkuCode,a.SkuName=t.DetailForm.SkuName,a.Quantity=t.DetailForm.Quantity,t.ProductData.push(a)}}else t.$Request.Error(e)}})}},{key:"GetSkuDetail",value:function(e){var t=this;this.$Request.Post({Server:this.$Server.Warehouse,Api:{Address:this.$Api.TransferInBoxSkuDetail,Login:!0},Data:e,Callback:function(e){e.IsSuccess?t.ProductData=e.Data.Data:t.$Request.Error(e)}})}}]),a}(m["d"]);I=c["a"]([Object(m["a"])({name:"TransferDemandDetail"})],I);var d=I,D=d,f=a("4023"),T=Object(f["a"])(D,r,s,!1,null,null,null);t["default"]=T.exports}}]);