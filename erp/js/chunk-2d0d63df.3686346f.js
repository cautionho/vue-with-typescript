(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d63df"],{"725c":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Row",{staticClass:"P-Inline-Block"},[o("Col",[o("Button",{staticClass:"P-Inline-Block P-MR-10",attrs:{type:"primary"},on:{click:function(t){return e.OpenPrintPaoModal()}}},[e._v("打印到货单")]),o("Modal",{attrs:{title:"打印到货单","mask-closable":!1,width:"800"},on:{"on-cancel":function(t){return e.ClearModal(0)}},model:{value:e.ModifyModal,callback:function(t){e.ModifyModal=t},expression:"ModifyModal"}},[o("Form",{ref:"PrintPaoForm",attrs:{"label-width":150,model:e.PrintPaoForm,rules:e.PrintPaoRule,inline:"",onsubmit:"return false"}},[o("Form-item",{staticClass:"P-MB-10 P-W-100-Percent",attrs:{label:"到货单号/采购单号：",prop:"Code"}},[o("Input",{ref:"CodeInput",attrs:{placeholder:"到货单号/采购单号"},on:{"on-enter":e.CheckPrintPaoData},model:{value:e.PrintPaoForm.Code,callback:function(t){e.$set(e.PrintPaoForm,"Code","string"===typeof t?t.trim():t)},expression:"PrintPaoForm.Code"}}),o("p",{staticClass:"Color-Gray"},[e._v("请扫描/输入到货单号或快递单号，输入完成后请按回车键。")])],1)],1),o("footer",{staticClass:"P-TA-R",attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:function(t){return e.ClearModal(0)}}},[e._v("取消")])],1)],1)],1)],1)},n=[],r=(o("9660"),o("5d9d"),o("4d62"),o("0b78"),o("3231")),i=o("064d"),T=o("46d7"),s=o("631e"),P=o("4a81"),m=o("d11d"),l=o("c638"),_=o("2437"),S=function(e){Object(T["a"])(o,e);var t=Object(s["a"])(o);function o(){var e;return Object(r["a"])(this,o),e=t.apply(this,arguments),e.ModifyModal=!1,e.PrintPaoForm=new l["a"].SingleCodeForm,e.PrintPaoRule={Code:[{required:!0,message:" "}]},e}return Object(i["a"])(o,[{key:"HandleResMsg",value:function(e){}},{key:"Trigger",value:function(){var e=this;this.ModifyModal=!0,this.$nextTick((function(){e.$refs["CodeInput"].focus()}))}},{key:"OpenPrintPaoModal",value:function(){this.HandleResMsg(1)}},{key:"CheckPrintPaoData",value:function(){var e=this;this.$refs["PrintPaoForm"].validate((function(t){t&&e.PrintPao()}))}},{key:"PrintPao",value:function(){var e=this;this.$refs["CodeInput"].blur();var t=Object(_["a"])();this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.PrintPAO,Login:!0},Data:this.PrintPaoForm.Code,Callback:function(o){if(e.$UI.Loading.Hide(),o.IsSuccess){t.PRINT_INIT("");for(var a=Math.ceil(o.Data.Data.length/20),n=1;n<=a;n++){var r=e.$Utils.FilterPagination(n,20,o.Data.Data);t.PRINT_INITA("0mm","0mm","100mm","100mm","打印到货单"),t.SET_PRINT_PAGESIZE(1,"100mm","100mm",""),t.SET_PRINT_MODE("PRINT_NOCOLLATE",1),r.forEach((function(o){e.DesignPao(t,o)})),t.PRINT()}e.$UI.Tips.Floating("success","打印到货单成功"),e.$refs["PrintPaoForm"].resetFields(),e.$refs["CodeInput"].focus()}else e.$Request.Error(o)}})}},{key:"DesignPao",value:function(e,t){e.NewPage(),e.ADD_PRINT_BARCODE("2.01mm","10%","80%","10mm","128A",t.OrderCode),e.SET_PRINT_STYLEA(0,"ShowBarText",0),e.ADD_PRINT_TEXT("12.99mm","25%","50%","10mm",t.OrderCode),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",15),e.ADD_PRINT_TEXT("37.31mm","2.011%","96.005%","7.99mm","目的仓："+t.WarehouseName),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",12),e.ADD_PRINT_TEXT("47.23mm","2.011%","40%","7.99mm","采购员："+t.PurchaserName),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",12),e.ADD_PRINT_TEXT("47.23mm","42.989%","55%","7.99mm","采购日期："+t.PurchaseTime.slice(0,t.PurchaseTime.indexOf("T"))),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",12),e.ADD_PRINT_TEXT("56.99mm","2.011%","96.005%","12.99mm","品名："+t.SkuName),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",11),e.ADD_PRINT_TEXT("68.37mm","2.011%","96.005%","10mm","SKU编号："+t.SkuCode),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",13),e.SET_PRINT_STYLEA(0,"Bold",1),e.ADD_PRINT_TEXT("78.85mm","2.011%","43.995%","7.09mm","采购数："+t.PurchaseQuantity),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",16),e.SET_PRINT_STYLEA(0,"Bold",1),e.ADD_PRINT_TEXT("78.85mm","47.011%","47.989%","7.09mm","到货数："+t.ArrvialQuantity),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",16),e.SET_PRINT_STYLEA(0,"Bold",1),e.ADD_PRINT_TEXT("26.06mm","2.011%","96.005%","10mm","采购单号："+t.PurchaseCode),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",13),e.ADD_PRINT_TEXT("91.28mm","2.011%","43.995%","5.29mm","打印员："+JSON.parse(this.$Cookie.Get("frler_user")).UserName),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",12),e.ADD_PRINT_TEXT("91.7mm","47.011%","47.989%","5.29mm",this.$UI.Render.Date(this.$UI.Render.NewDate(new Date,!0),!0)),e.SET_PRINT_STYLEA(0,"FontName","微软雅黑"),e.SET_PRINT_STYLEA(0,"FontSize",12)}},{key:"ClearModal",value:function(e){this.PrintPaoForm.Code="",this.ModifyModal=!1,this.PrintPaoForm=new l["a"].SingleCodeForm,this.$refs["PrintPaoForm"].resetFields(),this.HandleResMsg(e)}}]),o}(m["d"]);P["a"]([Object(m["b"])()],S.prototype,"HandleResMsg",null),S=P["a"]([Object(m["a"])({name:"PrintPao"})],S);var d=S,c=d,u=o("4023"),E=Object(u["a"])(c,a,n,!1,null,null,null);t["default"]=E.exports}}]);