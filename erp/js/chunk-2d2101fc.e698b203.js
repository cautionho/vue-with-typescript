(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2101fc"],{b70a:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Col",[a("Button",{attrs:{type:"primary"},on:{click:t.Trigger}},[t._v("联系客户")]),a("Modal",{attrs:{title:"联系客户",width:600},on:{"on-cancel":t.CancelModal},model:{value:t.ContactModal,callback:function(e){t.ContactModal=e},expression:"ContactModal"}},[a("Form",{ref:"ContactForm",attrs:{model:t.ContactForm,"label-width":80,onsubmit:"return false;"}},[a("FormItem",{attrs:{label:"备注：",prop:"Remark"}},[a("Input",{ref:"RemarkIpt",attrs:{type:"textarea",placeholder:"备注",rows:5,autosize:{minRows:5,maxRows:5}},model:{value:t.ContactForm.Remark,callback:function(e){t.$set(t.ContactForm,"Remark",e)},expression:"ContactForm.Remark"}})],1)],1),a("footer",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.Post}},[t._v("提交")]),a("Button",{on:{click:t.CancelModal}},[t._v("取消")])],1)],1)],1)},r=[],n=(a("76bb"),a("6ed5"),a("430a")),i=a("e24e"),c=a("3231"),s=a("064d"),l=a("46d7"),u=a("631e"),d=a("4a81"),p=a("d11d"),h=a("1459"),m=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.ContactModal=!1,t.ContactForm=new h["a"].ChangeShipOrderStatus,t}return Object(s["a"])(a,[{key:"TriggerOperations",value:function(t){}},{key:"EmitOperateSuccess",value:function(){}},{key:"Trigger",value:function(){this.TriggerOperations("ToContact")}},{key:"Validate",value:function(t){var e,a=this,o=Object(i["a"])(t);try{var r=function(){var t=e.value;if(![2,7,8].some((function(e){return e===t.ShipOrder.Status}))||[15,16,17].some((function(e){return e===t.ShipOrder.ApiType})))return a.$UI.Tips.Floating("warning","请选择状态为已确认、缺货、已拦截，发货仓不为海外仓的发货订单进行操作"),{v:void 0}};for(o.s();!(e=o.n()).done;){var c=r();if("object"===Object(n["a"])(c))return c.v}}catch(s){o.e(s)}finally{o.f()}this.ContactForm.OrderId=t.map((function(t){return t.ShipOrder.Id})),this.$set(this,"ContactModal",!0),this.$nextTick((function(){a.$refs.RemarkIpt.focus()}))}},{key:"Post",value:function(){var t=this;this.$UI.Loading.Show(),this.ContactForm.Targetstatus=9,this.$Request.Post({Server:this.$Server.Warehouse,Api:{Address:this.$Api.ShipOrderChangeStatus,Login:!0},Data:this.ContactForm,Callback:function(e){e.IsSuccess?(t.$UI.Tips.Floating("success","发货订单状态已变更为联系客户"),t.EmitOperateSuccess(),t.CancelModal()):(t.$UI.Loading.Hide(),t.$Request.Error(e))}})}},{key:"CancelModal",value:function(){this.ContactForm=new h["a"].ChangeShipOrderStatus,this.$set(this,"ContactModal",!1)}}]),a}(p["d"]);d["a"]([Object(p["b"])()],m.prototype,"TriggerOperations",null),d["a"]([Object(p["b"])()],m.prototype,"EmitOperateSuccess",null),m=d["a"]([Object(p["a"])({name:"ContactCustomer"})],m);var f=m,C=f,v=a("4023"),b=Object(v["a"])(C,o,r,!1,null,null,null);e["default"]=b.exports}}]);