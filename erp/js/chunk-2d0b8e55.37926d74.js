(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8e55"],{3145:function(t,o,r){"use strict";r.r(o);var e=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("Modal",{attrs:{title:"排序"},on:{"on-cancel":t.CancelModal},model:{value:t.SortModal,callback:function(o){t.SortModal=o},expression:"SortModal"}},[r("Form",{ref:"SortForm",attrs:{model:t.SortForm,rules:t.SortRules,"label-width":80,onsubmit:"return false;"}},[r("FormItem",{attrs:{label:"序号：",prop:"Priority"}},[r("Input",{ref:"SortNum",attrs:{min:0,placeholder:"请输入序号"},model:{value:t.SortForm.Priority,callback:function(o){t.$set(t.SortForm,"Priority",o)},expression:"SortForm.Priority"}})],1)],1),r("footer",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:t.Validate}},[t._v("提交")]),r("Button",{on:{click:t.CancelModal}},[t._v("取消")])],1)],1)},i=[],s=(r("e8f2"),r("3231")),a=r("064d"),n=r("46d7"),l=r("631e"),u=r("4a81"),c=r("d11d"),d=r("1f41"),m=function(t){Object(n["a"])(r,t);var o=Object(l["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=o.apply(this,arguments),t.SortModal=!1,t.SortForm=new d["a"].CustomRulesSort,t.SortRules={Priority:[{required:!0,message:"请输入序号"},{pattern:t.$Pattern.PositiveNotZeroInt,message:"序号必须为大于0的整数"}]},t}return Object(a["a"])(r,[{key:"EmitCustomRules",value:function(){}},{key:"Trigger",value:function(t){var o=this;this.$set(this,"SortModal",!0),this.SortForm.Id=t.Id,this.SortForm.Priority=t.Priority,this.$nextTick((function(){o.$refs.SortNum.focus()}))}},{key:"Validate",value:function(){var t=this;this.$refs.SortForm.validate((function(o){o?t.PostSort():t.$refs.SortNum.focus()}))}},{key:"PostSort",value:function(){var t=this;this.$UI.Loading.Show();var o=JSON.parse(JSON.stringify(this.SortForm));o.Priority=Number(o.Priority),this.$Request.Post({Server:this.$Server.Settings,Api:{Address:this.$Api.MatchRuleUpdatePriority,Login:!0},Data:o,Callback:function(o){o.IsSuccess?(t.$UI.Tips.Floating("success","修改排序成功"),t.CancelModal(),t.EmitCustomRules()):(t.$UI.Loading.Hide(),t.$Request.Error(o))}})}},{key:"CancelModal",value:function(){var t=this;this.$set(this,"SortModal",!1),this.$nextTick((function(){t.$refs.SortForm.resetFields()}))}}]),r}(c["d"]);u["a"]([Object(c["b"])()],m.prototype,"EmitCustomRules",null),m=u["a"]([Object(c["a"])({name:"CustomRulesSort"})],m);var S=m,f=S,h=r("4023"),p=Object(h["a"])(f,e,i,!1,null,null,null);o["default"]=p.exports}}]);