(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa957"],{1244:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",{staticClass:"P-Inline-Block SendOps"},[e.Power?a("Button",{staticClass:"P-MR-10",attrs:{type:"primary"},on:{click:e.TriggerModal}},[e._v("添加供应商")]):e._e(),a("Modal",{staticClass:"Container-Tabs",attrs:{title:e.ModalTitle,"mask-closable":!1,width:900},on:{"on-cancel":function(t){return e.EmitSupplier(!1)}},model:{value:e.SupplierModal,callback:function(t){e.SupplierModal=t},expression:"SupplierModal"}},[e.SupplierModal?a("Form",{ref:"SupplierBase",attrs:{inline:"","label-width":100,model:e.SupplierBase,rules:e.SupplierBaseRules}},[a("Tabs",{attrs:{type:"card",closable:!1,value:e.ActiveTab,name:"ModifySupplier",animated:!1}},[a("TabPane",{attrs:{label:"基本信息",name:"Base",tab:"ModifySupplier"}},[a("FormItem",{staticClass:"P-W-400 P-MT-20",attrs:{label:"供应商名称：",prop:"SupplyName"}},[a("Input",{attrs:{placeholder:"供应商名称"},model:{value:e.SupplierBase.SupplyName,callback:function(t){e.$set(e.SupplierBase,"SupplyName",t)},expression:"SupplierBase.SupplyName"}})],1),a("FormItem",{staticClass:"P-W-400 P-MT-20",attrs:{label:"联系人：",prop:"Contact"}},[a("Input",{attrs:{placeholder:"联系人名称"},model:{value:e.SupplierBase.Contact,callback:function(t){e.$set(e.SupplierBase,"Contact",t)},expression:"SupplierBase.Contact"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"联系电话：",prop:"Phone"}},[a("Input",{attrs:{placeholder:"联系电话"},model:{value:e.SupplierBase.Phone,callback:function(t){e.$set(e.SupplierBase,"Phone",t)},expression:"SupplierBase.Phone"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"阿里旺旺：",prop:"AliNum"}},[a("Input",{attrs:{placeholder:"阿里旺旺"},model:{value:e.SupplierBase.AliNum,callback:function(t){e.$set(e.SupplierBase,"AliNum",t)},expression:"SupplierBase.AliNum"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"邮箱：",prop:"Email"}},[a("Input",{attrs:{placeholder:"邮箱"},model:{value:e.SupplierBase.Email,callback:function(t){e.$set(e.SupplierBase,"Email",t)},expression:"SupplierBase.Email"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"QQ号码：",prop:"QQNum"}},[a("Input",{attrs:{placeholder:"QQ号码"},model:{value:e.SupplierBase.QQNum,callback:function(t){e.$set(e.SupplierBase,"QQNum",t)},expression:"SupplierBase.QQNum"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"相关链接：",prop:"Url"}},[a("Input",{attrs:{placeholder:"相关链接"},model:{value:e.SupplierBase.Url,callback:function(t){e.$set(e.SupplierBase,"Url",t)},expression:"SupplierBase.Url"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"邮政编码：",prop:"ZipCode"}},[a("Input",{attrs:{placeholder:"邮政编码"},model:{value:e.SupplierBase.ZipCode,callback:function(t){e.$set(e.SupplierBase,"ZipCode",t)},expression:"SupplierBase.ZipCode"}})],1),a("FormItem",{staticClass:"P-W-200",attrs:{label:"地址：",prop:"Province"}},[a("Select",{staticClass:"P-W-200",attrs:{placeholder:"省份",onChange:e.GetCity,options:e.ProvinceList,optionValKey:"Id",optionKey:"Name",transfer:""},model:{value:e.SupplierBase.Province,callback:function(t){e.$set(e.SupplierBase,"Province",t)},expression:"SupplierBase.Province"}})],1),a("FormItem",{staticClass:"P-W-200",attrs:{label:"",prop:"City"}},[a("Select",{staticClass:"P-W-200",attrs:{placeholder:"城市",onChange:e.GetArea,options:e.CityList,optionValKey:"Id",optionKey:"Name",transfer:""},model:{value:e.SupplierBase.City,callback:function(t){e.$set(e.SupplierBase,"City",t)},expression:"SupplierBase.City"}})],1),a("FormItem",{staticClass:"P-W-200",attrs:{label:"",prop:"Area"}},[a("Select",{staticClass:"P-W-200",attrs:{placeholder:"区县",options:e.AreaList,optionValKey:"Id",optionKey:"Name",transfer:""},model:{value:e.SupplierBase.Area,callback:function(t){e.$set(e.SupplierBase,"Area",t)},expression:"SupplierBase.Area"}})],1),a("FormItem",{staticClass:"P-W-100-Percent",attrs:{label:"",prop:"Street"}},[a("Input",{attrs:{placeholder:"详细街道"},model:{value:e.SupplierBase.Street,callback:function(t){e.$set(e.SupplierBase,"Street",t)},expression:"SupplierBase.Street"}})],1),a("FormItem",{staticClass:"P-W-100-Percent",attrs:{label:"备注：",prop:"Remark"}},[a("Input",{attrs:{placeholder:"备注",type:"textarea",autosize:{minRows:4,maxRows:4}},model:{value:e.SupplierBase.Remark,callback:function(t){e.$set(e.SupplierBase,"Remark",t)},expression:"SupplierBase.Remark"}})],1)],1),a("TabPane",{attrs:{label:"财务结算",name:"Finance",tab:"ModifySupplier"}},[a("FormItem",{staticClass:"P-W-400 P-MT-20",attrs:{label:"结算方式：",prop:"BillType"}},[a("Select",{attrs:{placeholder:"结算方式",options:e.BillTypeList,transfer:""},model:{value:e.SupplierBase.BillType,callback:function(t){e.$set(e.SupplierBase,"BillType",t)},expression:"SupplierBase.BillType"}})],1),a("FormItem",{staticClass:"P-W-400 P-MT-20",attrs:{label:"支付方式：",prop:"PayType"}},[a("Select",{attrs:{placeholder:"支付方式",options:e.PayTypeList,transfer:""},model:{value:e.SupplierBase.PayType,callback:function(t){e.$set(e.SupplierBase,"PayType",t)},expression:"SupplierBase.PayType"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"开户行：",prop:"BankName"}},[a("Input",{attrs:{placeholder:"开户行"},model:{value:e.SupplierBase.BankName,callback:function(t){e.$set(e.SupplierBase,"BankName",t)},expression:"SupplierBase.BankName"}})],1),a("FormItem",{staticClass:"P-W-400",attrs:{label:"账户名：",prop:"BankAccount"}},[a("Input",{attrs:{placeholder:"账户名"},model:{value:e.SupplierBase.BankAccount,callback:function(t){e.$set(e.SupplierBase,"BankAccount",t)},expression:"SupplierBase.BankAccount"}})],1),a("FormItem",{staticClass:"P-W-100-Percent",attrs:{label:"账号：",prop:"BankNumber"}},[a("Input",{attrs:{placeholder:"账号"},model:{value:e.SupplierBase.BankNumber,callback:function(t){e.$set(e.SupplierBase,"BankNumber",t)},expression:"SupplierBase.BankNumber"}})],1)],1)],1)],1):e._e(),a("footer",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.Validate}},[e._v("提交")]),a("Button",{on:{click:function(t){return e.EmitSupplier(!1)}}},[e._v("取消")])],1)],1)],1)},l=[],i=(a("9660"),a("0b78"),a("3231")),r=a("064d"),p=a("46d7"),o=a("631e"),n=a("4a81"),u=a("d11d"),c=a("c638"),m=function(e){Object(p["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.SupplierModal=!1,e.ModalTitle="添加供应商",e.ActiveTab="Base",e.ProvinceList=[],e.CityList=[],e.AreaList=[],e.BillTypeList=e.$Utils.GetEnumArr(e.$Enums.Purchase.BillType),e.PayTypeList=e.$Utils.GetEnumArr(e.$Enums.Purchase.PayType),e.IsEdit=[],e.SupplierBaseRules={SupplyName:[{required:!0,message:"请输入供应商名称"}],Contact:[{required:!0,message:"请输入联系人"}],Phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:e.$Pattern.Mobile,message:"请输入正确格式的联系电话"}],Email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:e.$Pattern.Email,message:"请输入正确格式的邮箱"}],Province:[{required:!0,message:"请选择省份",trigger:"change",type:"number"}],City:[{required:!0,message:"请选择城市",trigger:"change",type:"number"}],Area:[{required:!0,message:"请选择区县",trigger:"change",type:"number"}],QQNum:[{required:!1,pattern:/^\d{1,10}$/,message:"请输入正确的QQ号码"}]},e.SupplierBase=new c["a"].Supplier,e}return Object(r["a"])(a,[{key:"EmitSupplier",value:function(e){this.$refs.SupplierBase.resetFields(),this.$set(this,"SupplierModal",!1)}},{key:"TriggerModal",value:function(e){this.IsEdit=e,this.ProvinceList.length<1&&this.$set(this,"ProvinceList",this.AreaTree),this.IsEdit.length?(this.$set(this,"SupplierBase",this.IsEdit[0]),this.$set(this,"ModalTitle","编辑供应商"),this.SearchCity("ProvinceList",this.SupplierBase.Province),this.SearchCity("CityList",this.SupplierBase.City)):(this.$set(this,"SupplierBase",new c["a"].Supplier),this.$set(this,"ModalTitle","添加供应商")),this.$set(this,"SupplierModal",!0)}},{key:"Validate",value:function(){var e=this;this.$refs.SupplierBase.validate((function(t){t&&e.PostSupplier()}))}},{key:"PostSupplier",value:function(){var e=this;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.IsEdit.length>0?this.$Api.SupplyModify:this.$Api.SupplyCreate,Login:!0},Data:this.SupplierBase,Callback:function(t){t.IsSuccess?(e.$UI.Tips.Floating("success","".concat(e.IsEdit.length>0?"编辑":"添加","供应商成功")),e.EmitSupplier(!0)):(e.$Request.Error(t),e.$UI.Loading.Hide())}})}},{key:"GetCity",value:function(e){this.$set(this,"CityList",[]),this.$set(this,"AreaList",[]),this.$set(this.SupplierBase,"City",""),this.$set(this.SupplierBase,"Area",""),e&&this.SearchCity("ProvinceList",e)}},{key:"GetArea",value:function(e){this.$set(this,"AreaList",[]),this.$set(this.SupplierBase,"Area",""),e&&this.SearchCity("CityList",e)}},{key:"SearchCity",value:function(e,t){var a=this;this[e].forEach((function(s){s.Id===t&&a.$set(a,"ProvinceList"==e?"CityList":"AreaList",s.ChildNodes)}))}}]),a}(u["d"]);n["a"]([Object(u["c"])()],m.prototype,"AreaTree",void 0),n["a"]([Object(u["c"])()],m.prototype,"Power",void 0),n["a"]([Object(u["b"])()],m.prototype,"EmitSupplier",null),m=n["a"]([Object(u["a"])({name:"MoodifySupplier",components:{}})],m);var S=m,d=S,h=a("4023"),B=Object(h["a"])(d,s,l,!1,null,null,null);t["default"]=B.exports}}]);