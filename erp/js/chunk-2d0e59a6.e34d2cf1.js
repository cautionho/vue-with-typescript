(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e59a6"],{"94d9":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Modal",{attrs:{title:t.ModalTitle,width:800},on:{"on-cancel":t.CancelModal},model:{value:t.EmailAccountModal,callback:function(e){t.EmailAccountModal=e},expression:"EmailAccountModal"}},[o("Form",{ref:"EmailAccountForm",attrs:{model:t.EmailAccountForm,rules:t.EmailAccountRules,"label-width":100,onsubmit:"return false"}},[o("FormItem",{attrs:{label:"名称：",prop:"Name"}},[o("Input",{ref:"NameIpt",attrs:{placeholder:"邮箱名称"},model:{value:t.EmailAccountForm.Name,callback:function(e){t.$set(t.EmailAccountForm,"Name",e)},expression:"EmailAccountForm.Name"}})],1),o("FormItem",{attrs:{label:"邮箱：",prop:"Account"}},[o("Input",{attrs:{placeholder:"邮箱地址"},model:{value:t.EmailAccountForm.Account,callback:function(e){t.$set(t.EmailAccountForm,"Account",e)},expression:"EmailAccountForm.Account"}})],1),o("FormItem",{staticClass:"P-W-500 P-Inline-Block",attrs:{label:"收件服务器：",prop:"ReceiveHost"}},[o("Input",{attrs:{placeholder:"收件服务器"},model:{value:t.EmailAccountForm.ReceiveHost,callback:function(e){t.$set(t.EmailAccountForm,"ReceiveHost",e)},expression:"EmailAccountForm.ReceiveHost"}})],1),o("span",{staticClass:"P-MR-20 P-ML-20"},[t._v(":")]),o("FormItem",{staticClass:"P-W-200 P-Inline-Block",attrs:{"label-width":0,prop:"ReceiveHostPort"}},[o("Input",{attrs:{placeholder:"端口"},model:{value:t.EmailAccountForm.ReceiveHostPort,callback:function(e){t.$set(t.EmailAccountForm,"ReceiveHostPort",e)},expression:"EmailAccountForm.ReceiveHostPort"}})],1),o("FormItem",{staticClass:"P-W-500 P-Inline-Block",attrs:{label:"发件服务器：",prop:"SendHost"}},[o("Input",{attrs:{placeholder:"发件服务器"},model:{value:t.EmailAccountForm.SendHost,callback:function(e){t.$set(t.EmailAccountForm,"SendHost",e)},expression:"EmailAccountForm.SendHost"}})],1),o("span",{staticClass:"P-MR-20 P-ML-20"},[t._v(":")]),o("FormItem",{staticClass:"P-W-200 P-Inline-Block",attrs:{"label-width":0,prop:"SendHostPort"}},[o("Input",{attrs:{placeholder:"端口"},model:{value:t.EmailAccountForm.SendHostPort,callback:function(e){t.$set(t.EmailAccountForm,"SendHostPort",e)},expression:"EmailAccountForm.SendHostPort"}})],1),o("FormItem",{attrs:{label:"文件夹：",prop:"FolderName"}},[o("Input",{attrs:{placeholder:"文件夹"},model:{value:t.EmailAccountForm.FolderName,callback:function(e){t.$set(t.EmailAccountForm,"FolderName",e)},expression:"EmailAccountForm.FolderName"}})],1),o("FormItem",{attrs:{label:"密码：",prop:"Password"}},[o("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.EmailAccountForm.Password,callback:function(e){t.$set(t.EmailAccountForm,"Password",e)},expression:"EmailAccountForm.Password"}})],1)],1),o("footer",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary"},on:{click:t.Validate}},[t._v("提交")]),o("Button",{on:{click:t.CancelModal}},[t._v("取消")])],1)],1)},c=[],s=o("3231"),l=o("064d"),i=o("46d7"),r=o("631e"),n=o("4a81"),m=o("d11d"),u=o("4606"),d=function(t){Object(i["a"])(o,t);var e=Object(r["a"])(o);function o(){var t;return Object(s["a"])(this,o),t=e.apply(this,arguments),t.EmailAccountModal=!1,t.ModalTitle="",t.EmailAccountForm=new u["a"].EmailAccountInfo,t.EmailAccountRules={Name:[{required:!0,message:"请输入名称"}],Account:[{required:!0,message:"请输入邮箱"},{pattern:t.$Pattern.Email,message:"请输入正确格式的邮箱地址"}],ReceiveHost:[{required:!0,message:"请输入收件服务器"}],ReceiveHostPort:[{required:!0,message:"请输入收件服务器端口"},{pattern:t.$Pattern.PositiveNotZero,message:"请输入正确格式的端口号"}],SendHost:[{required:!0,message:"请输入发件服务器"}],SendHostPort:[{required:!0,message:"请输入发件服务器端口"},{pattern:t.$Pattern.PositiveNotZero,message:"请输入正确格式的端口号"}],FolderName:[{required:!0,message:"请输入文件夹名称"}],Password:[{required:!0,message:"请输入密码"}]},t}return Object(l["a"])(o,[{key:"EmitOperateSuccess",value:function(){}},{key:"Trigger",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new u["a"].EmailAccountInfo;this.$set(this,"EmailAccountModal",!0),this.$set(this,"ModalTitle",e.Id?"编辑邮箱账号":"添加邮箱账号"),this.$set(this,"EmailAccountForm",e),this.$nextTick((function(){t.$refs.NameIpt.focus()}))}},{key:"Validate",value:function(){var t=this;this.$refs.EmailAccountForm.validate((function(e){e&&t.PostModifyEmailAccount()}))}},{key:"PostModifyEmailAccount",value:function(){var t=this;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.CustomerService,Api:{Address:this.EmailAccountForm.Id?this.$Api.EmailAccountEdit:this.$Api.EmailAccountAdd,Login:!0},Data:this.EmailAccountForm,Callback:function(e){e.IsSuccess?(t.$UI.Tips.Floating("success",t.EmailAccountForm.Id?"修改成功":"添加成功"),t.CancelModal(),t.EmitOperateSuccess()):(t.$UI.Loading.Hide(),t.$Request.Error(e))}})}},{key:"CancelModal",value:function(){var t=this;this.$set(this,"EmailAccountModal",!1),this.$set(this,"EmailAccountForm",new u["a"].EmailAccountInfo),this.$set(this,"ModalTitle",""),this.$nextTick((function(){t.$refs.EmailAccountForm.resetFields()}))}}]),o}(m["d"]);n["a"]([Object(m["b"])()],d.prototype,"EmitOperateSuccess",null),d=n["a"]([Object(m["a"])({name:"ModifyEmailAccount"})],d);var p=d,A=p,E=o("4023"),F=Object(E["a"])(A,a,c,!1,null,"1ca0c653",null);e["default"]=F.exports}}]);