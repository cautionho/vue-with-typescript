(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c79aca0"],{"078e":function(t,a,e){"use strict";var r=e("29af"),s=e.n(r);s.a},"29af":function(t,a,e){},ad31:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Modal",{attrs:{title:"采购申请详情","mask-closable":!1,width:"1100"},on:{"on-cancel":function(a){return t.ClearModal(0)}},model:{value:t.DetailModal,callback:function(a){t.DetailModal=a},expression:"DetailModal"}},[e("Row",[e("Form",{attrs:{"label-width":120,onsubmit:"return false"}},[e("Row",[e("Col",{attrs:{span:"18"}},[e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"SKU编号："}},[t._v(" "+t._s(t.DetailInformation[0].ApplySummary.SkuCode)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"SKU名称："}},[t._v(" "+t._s(t.DetailInformation[0].ApplySummary.SkuName)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"当前库存："}},[t._v(" "+t._s(t.DetailInformation[0].Inventory.Quantity)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"在途库存："}},[t._v(" "+t._s(t.DetailInformation[0].Inventory.PurchasingQuantity)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"销售员："}},[t._v(" "+t._s(t.DetailInformation[0].ApplySummary.CreatorName)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"销售数据："}},[t._v(" "+t._s(t.DetailInformation[0].AvgSaleQuantity.AvgSaleQuantity7+"/"+t.DetailInformation[0].AvgSaleQuantity.AvgSaleQuantity15+"/"+t.DetailInformation[0].AvgSaleQuantity.AvgSaleQuantity30)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"仓库："}},[t._v(" "+t._s(t.DetailInformation[0].ApplySummary.WarehouseName)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"采购数量："}},[t._v(" "+t._s(t.DetailInformation[0].ApplySummary.PurchaseQuantity)+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"关联采购单："}},[t._v(" "+t._s(t.DetailPurOrderInfo.PurchaseCode?t.DetailPurOrderInfo.PurchaseCode:"-")+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"关联采购单状态："}},[t._v(" "+t._s(t.RenderStatus(t.DetailPurOrderInfo.Status))+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"申请时间："}},[t._v(" "+t._s(t.$UI.Render.Date(t.DetailInformation[0].ApplySummary.CreateTime,!0))+" ")])],1),e("Col",{attrs:{span:"12"}},[e("Form-item",{staticClass:"P-MB-10",attrs:{label:"备注："}},[t._v(" "+t._s(t.DetailInformation[0].ApplySummary.Remark)+" "),e("Tooltip",{staticClass:"P-W-100-Percent",attrs:{content:""+(t.DetailInformation[0].ApplySummary.Remark?t.DetailInformation[0].ApplySummary.Remark:"-"),maxWidth:200}},[e("p",{staticClass:"P-LINE-1"},[t._v(t._s(t.DetailInformation[0].ApplySummary.Remark?t.DetailInformation[0].ApplySummary.Remark:"-"))])])],1)],1)],1),e("Col",{attrs:{span:"6"}},[e("div",{staticClass:"demo-upload-list Detail-Picture"},[e("img",{attrs:{src:t.$Server.File+"/"+t.DetailInformation[0].ApplySummary.DefaultImage,height:"200",width:"200"}}),e("div",{staticClass:"demo-upload-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return t.ShowPic(t.DetailInformation[0].ApplySummary.DefaultImage)}}})],1)])])],1),e("Row",[e("h1",{staticClass:"P-TA-C"},[t._v("审核记录")]),e("Col",{staticClass:"P-MT-10",attrs:{span:"24"}},[e("Table",{ref:"ApplyHistory",attrs:{columns:t.Cols,data:t.DetailPurApplyHistory,size:"small",stripe:"",height:300}})],1)],1)],1)],1),e("footer",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[e("Button",{on:{click:function(a){return t.ClearModal(0)}}},[t._v("返回")])],1),e("ShowBigPic",{ref:"ShowBigPic"})],1)},s=[],i=(e("cee1"),e("6bf8"),e("3231")),l=e("064d"),o=e("46d7"),n=e("631e"),u=e("4a81"),p=e("d11d"),c=e("c638"),m=function(t){Object(o["a"])(e,t);var a=Object(n["a"])(e);function e(){var t;return Object(i["a"])(this,e),t=a.apply(this,arguments),t.DetailModal=!1,t.DetailInformation=[new c["a"].PurchaseApply],t.DetailPurOrderInfo=new c["a"].ApplyOrderInfo,t.DetailPurApplyHistory=[],t.Cols=[{title:"编号",key:"Id",width:80},{title:"操作者名称",key:"Operator",width:100},{title:"操作时间",key:"OperateTime",width:160,render:function(a,e){return a("span",{},t.$UI.Render.Date(e.row.OperateTime,!0))}},{title:"备注",key:"OperateLog"}],t}return Object(l["a"])(e,[{key:"HandleResMsg",value:function(){}},{key:"IsShowModal",value:function(t){t&&(this.GetApplyInfo(),this.$nextTick((function(){this.$set(this,"DetailModal",!0)})))}},{key:"RenderStatus",value:function(t){return t?-1===t?"已终止":["","新建","待采购审核","待销售确认","待发货","待签收","待入库","部分入库","已完成"][t]:"-"}},{key:"ShowPic",value:function(t){this.$refs.ShowBigPic.Trigger(t)}},{key:"GetApplyInfo",value:function(){var t=this,a=this.SelectedData[0].ApplySummary.Id;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.PurchaseApplyGetApplyInfo,Login:!0},Data:a,Callback:function(e){if(e.IsSuccess){t.DetailInformation=[e.Data.Data];var r=t.DetailInformation[0].ApplySummary.PurchaseCode;""!==r?t.GetPurchaseApplyOrderInfo(r,a):t.GetPurApplyHistory(a)}else t.GetPurApplyHistory(a),t.$Request.Error(e)}})}},{key:"GetPurchaseApplyOrderInfo",value:function(t,a){var e=this;this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.PurchaseOrderGetByCode,Login:!0},Data:t,Callback:function(t){t.IsSuccess?e.DetailPurOrderInfo=t.Data.Data:e.$Request.Error(t),e.GetPurApplyHistory(a)}})}},{key:"GetPurApplyHistory",value:function(t){var a=this;this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.PurchaseApplyGetHistory,Login:!0},Data:t,Callback:function(t){t.IsSuccess?a.DetailPurApplyHistory=t.Data.Data:a.$Request.Error(t),a.$UI.Loading.Hide()}})}},{key:"ClearModal",value:function(t){this.DetailInformation.splice(0,this.DetailInformation.length,new c["a"].PurchaseApply),this.DetailPurApplyHistory.splice(0,this.DetailPurApplyHistory.length),this.$set(this,"DetailModal",!1),this.HandleResMsg()}}]),e}(p["d"]);u["a"]([Object(p["c"])()],m.prototype,"SelectedData",void 0),u["a"]([Object(p["c"])()],m.prototype,"ShowModal",void 0),u["a"]([Object(p["b"])()],m.prototype,"HandleResMsg",null),u["a"]([Object(p["e"])("ShowModal")],m.prototype,"IsShowModal",null),m=u["a"]([Object(p["a"])({name:"PurchaseApplyDetails",components:{ShowBigPic:function(){return e.e("chunk-c0a1d894").then(e.bind(null,"6156"))}}})],m);var y=m,d=y,h=(e("078e"),e("4023")),f=Object(h["a"])(d,r,s,!1,null,"87516ee2",null);a["default"]=f.exports}}]);