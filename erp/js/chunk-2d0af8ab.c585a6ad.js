(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af8ab"],{"0f87":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"P-Inline-Block "},[a("Col",[e.Power?a("Button",{staticClass:"P-MR-10",attrs:{type:"primary"},on:{click:e.TriggerModal}},[e._v("添加特性标签")]):e._e(),a("Modal",{attrs:{title:0==e.LabelMsg.Id?"添加特性标签":"编辑特性标签","mask-closable":!1,width:500},on:{"on-cancel":function(t){return e.HandleLabelMsg(!1)}},model:{value:e.IsShowModal,callback:function(t){e.IsShowModal=t},expression:"IsShowModal"}},[a("Form",{ref:"LabelMsg",attrs:{onsubmit:"return false",model:e.LabelMsg,rules:e.Rules,"label-width":110}},[a("Form-item",{attrs:{label:"特性标签",prop:"Name"}},[a("Input",{ref:"Name",attrs:{placeholder:"请输入特性标签"},model:{value:e.LabelMsg.Name,callback:function(t){e.$set(e.LabelMsg,"Name",t)},expression:"LabelMsg.Name"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.ValidateLabel}},[e._v("提交")]),a("Button",{on:{click:function(t){return e.HandleLabelMsg(!1)}}},[e._v("取消")])],1)],1)],1)],1)},o=[],r=a("3231"),l=a("064d"),i=a("46d7"),n=a("631e"),c=a("4a81"),d=a("d11d"),u=a("eb49"),b=function(e){Object(i["a"])(a,e);var t=Object(n["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.Rules={Name:[{required:!0,message:"请输入特性标签"}]},e.IsShowModal=!1,e.LabelMsg=new u["a"].ProLabelList,e}return Object(l["a"])(a,[{key:"HandleLabelMsg",value:function(e){this.$set(this,"IsShowModal",!1),this.$refs["LabelMsg"].resetFields()}},{key:"TriggerModal",value:function(e){var t=this;this.$set(this,"LabelMsg",e.length?e[0]:new u["a"].ProLabelList),this.$set(this,"IsShowModal",!0),this.$nextTick((function(){t.$refs["Name"].focus()}))}},{key:"ValidateLabel",value:function(){var e=this;this.$refs["LabelMsg"].validate((function(t){t&&e.PostAddOrEdit()}))}},{key:"PostAddOrEdit",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.LabelMsg));t["OperatorId"]=JSON.parse(this.$Cookie.Get("frler_user")).UserId,t["Operator"]=JSON.parse(this.$Cookie.Get("frler_user")).UserName,t["OperateTime"]=(new Date).toLocaleDateString(),this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:0===t.Id?this.$Api.AttributeCreate:this.$Api.AttributeModify,Login:!0},Data:t,Callback:function(a){e.$UI.Loading.Hide(),a.IsSuccess?(e.$UI.Tips.Floating("success","".concat(0===t.Id?"添加特性标签成功":"编辑特性标签成功")),e.HandleLabelMsg(!0)):(e.$Request.Error(a),e.$UI.Loading.Hide(),e.$nextTick((function(){e.$refs["Name"].focus()})))}})}}]),a}(d["d"]);c["a"]([Object(d["c"])()],b.prototype,"Power",void 0),c["a"]([Object(d["b"])()],b.prototype,"HandleLabelMsg",null),b=c["a"]([Object(d["a"])({name:"ModifyProLabel"})],b);var h=b,f=h,p=a("4023"),g=Object(p["a"])(f,s,o,!1,null,null,null);t["default"]=g.exports}}]);