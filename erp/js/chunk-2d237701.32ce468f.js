(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237701"],{fab2:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"P-Inline-Block"},[l("Button",{attrs:{type:"primary"},on:{click:e.OpenModal}},[e._v("批量导入")]),l("Modal",{attrs:{title:"批量导入","mask-closable":!1},on:{"on-cancel":function(t){return e.HandleRes(!1)}},model:{value:e.ShowModal,callback:function(t){e.ShowModal=t},expression:"ShowModal"}},[l("Form",{attrs:{onsubmit:"return false","label-width":100}},[l("Form-item",{attrs:{label:"选择文件："}},[l("Upload",{ref:"UploadFile",attrs:{action:e.UploadUrl,format:["xls","xlsx"],"before-upload":e.HandleUpload,"on-success":e.UploadSuccess,"on-error":e.HandleError,headers:e.Headers}},[l("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v("选择文件")])],1),null!==e.File?l("p",[e._v(e._s(e.File.name)+" ")]):e._e()],1),l("Form-item",{attrs:{label:"下载模板："}},[l("a",{staticClass:"ivu-btn",attrs:{href:e.$Server.Purchase+"/Import/海外仓产品导入导出模板.xlsx",download:""}},[e._v("海外仓产品导入模板.xlsX")])])],1),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.UploadProduct}},[e._v("导入")]),l("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.HandleRes(!1)}}},[e._v("取消")])],1)],1)],1)},s=[],o=(l("d9b9"),l("5e8c"),l("03d8"),l("4d62"),l("1ff3"),l("3231")),n=l("064d"),i=l("46d7"),r=l("631e"),c=l("4a81"),d=l("d11d"),u=function(e){Object(i["a"])(l,e);var t=Object(r["a"])(l);function l(){var e;return Object(o["a"])(this,l),e=t.apply(this,arguments),e.UploadTitle="",e.ShowModal=!1,e.File=null,e.UploadUrl=e.$Server.Purchase+e.$Api.OverseaSkuImport,e.Headers={userid:JSON.parse(e.$Cookie.Get("frler_user")).UserId},e}return Object(n["a"])(l,[{key:"HandleRes",value:function(e){this.$refs.UploadFile&&this.$refs["UploadFile"].clearFiles(),this.ShowModal=!1,this.File=null}},{key:"OpenModal",value:function(e){this.ShowModal=!0}},{key:"HandleUpload",value:function(e){return this.File=e,!1}},{key:"HandleError",value:function(e,t){this.$UI.Loading.Hide(),this.$UI.Tips.Modal({Type:"warning",Content:e,Callback:function(e){}})}},{key:"UploadProduct",value:function(){if(null!=this.File){var e=this.File.name.slice(this.File.name.lastIndexOf(".")+1);["xls","xlsx"].includes(e)?(this.$refs["UploadFile"].post(this.File),this.$UI.Loading.Show()):this.$UI.Tips.Floating("warning","请选择格式为xls或xlsx的文件进行导入")}else this.$UI.Tips.Floating("warning","请选择文件进行操作")}},{key:"UploadSuccess",value:function(e){this.$UI.Loading.Hide(),e.IsSuccess?(this.ShowModal=!1,void 0==e.Data.Url?this.$UI.Floating("success",e.Msg):this.$UI.Tips.Modal({Type:"success",Content:"".concat(e.Msg,' <a href="').concat(this.$Server.Purchase+e.Data.Url,'" download>导入失败表格</a>'),Callback:function(e){}}),this.HandleRes(!0)):this.$UI.Tips.Modal({Type:"error",Content:e.Msg,Callback:function(e){}}),this.$refs["UploadFile"].clearFiles()}}]),l}(d["d"]);c["a"]([Object(d["b"])()],u.prototype,"HandleRes",null),u=c["a"]([Object(d["a"])({name:"ImportOverseasWare"})],u);var p=u,h=p,f=l("4023"),U=Object(f["a"])(h,a,s,!1,null,null,null);t["default"]=U.exports}}]);