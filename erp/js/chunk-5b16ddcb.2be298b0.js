(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b16ddcb"],{3493:function(e,t,a){"use strict";var s=a("ddaa"),n=a.n(s);n.a},da17:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"P-Inline-Block"},[a("Button",{staticClass:"Badge-Btn",attrs:{type:"primary"},on:{click:e.Trigger}},[e._v(" 上传图片 "),e.Images.length?a("Badge",{attrs:{count:e.Images.length}},[a("a",{staticClass:"demo-badge",attrs:{href:"#"}})]):e._e()],1),a("Modal",{attrs:{title:"上传图片",width:600},on:{"on-cancel":e.CancelModal},model:{value:e.MailImgsModal,callback:function(t){e.MailImgsModal=t},expression:"MailImgsModal"}},[e._l(e.Images,(function(t,s){return a("div",{key:s,staticClass:"P-Inline-Block P-Uploader-Img"},[a("img",{staticClass:"P-Uploader-Img",attrs:{src:e.$Server.File+"/"+t},on:{click:function(a){return e.$refs.BigPic.Trigger(e.$Server.File+"/"+t)}}}),a("Icon",{staticClass:"P-Uploader-Del",attrs:{type:"md-close-circle",size:"20"},on:{click:function(t){return e.UploaderDel(s)}}})],1)})),a("Upload",{directives:[{name:"show",rawName:"v-show",value:e.Images.length<5,expression:"Images.length < 5"}],staticClass:"P-Uploader P-Inline-Block P-VA-T",attrs:{headers:e.$Request.Headers({Server:"",Api:{Address:"",Login:!0},Data:"",Form:!0}),"show-upload-list":!1,"on-success":e.HandleUploadSuccess,accept:".jpg, .jpge, .png",format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.HandleFormatError,"on-exceeded-size":e.HandleMaxSize,"before-upload":e.HandleBeforeUpload,multiple:"",action:""+e.$Server.Settings+e.$Api.UploadImage}},[a("div",{staticClass:"P-Uploader-Img"},[a("Icon",{attrs:{type:"md-add",size:"20"}})],1)]),a("p",{staticClass:"P-MT-5"},[e._v("最多上传5张大小在2M内且格式为PNG或JPG格式的图片")]),a("footer",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.CancelModal}},[e._v("确定")]),a("Button",{on:{click:e.CancelModal}},[e._v("取消")])],1),a("BigPic",{ref:"BigPic"})],2)],1)},n=[],l=(a("cee1"),a("1ff3"),a("6bf8"),a("3231")),o=a("064d"),i=a("46d7"),r=a("631e"),c=a("4a81"),d=a("d11d"),u=function(e){Object(i["a"])(a,e);var t=Object(r["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.MailImgsModal=!1,e.Images=[],e.UploadQty=0,e}return Object(o["a"])(a,[{key:"Trigger",value:function(){this.$set(this,"MailImgsModal",!0)}},{key:"HandleUploadSuccess",value:function(e,t,a){e.IsSuccess?this.Images.push(e.Data.Url):this.$Request.Error(e),this.CountUploadQty()}},{key:"HandleFormatError",value:function(e){this.$UI.Tips.Floating("warning","文件[".concat(e.name,"]格式不为JPG/JPGE/PNG，请检查")),this.CountUploadQty()}},{key:"HandleMaxSize",value:function(e,t){this.$UI.Tips.Floating("warning","文件".concat(e.name,"大小超过2M，请检查")),this.CountUploadQty()}},{key:"HandleBeforeUpload",value:function(e){if(0===this.UploadQty&&this.$UI.Loading.Show(),this.UploadQty+this.Images.length>=5)return!1;this.UploadQty++}},{key:"CountUploadQty",value:function(){this.UploadQty--,this.UploadQty<=0&&this.$UI.Loading.Hide()}},{key:"UploaderDel",value:function(e){this.Images.splice(e,1)}},{key:"Reset",value:function(){console.log(123123),this.$set(this,"Images",[]),this.$set(this,"UploadQty",0)}},{key:"CancelModal",value:function(){this.$set(this,"MailImgsModal",!1)}}]),a}(d["d"]);u=c["a"]([Object(d["a"])({name:"HandleMailImgs",components:{BigPic:function(){return a.e("chunk-c0a1d894").then(a.bind(null,"6156"))}}})],u);var p=u,g=p,h=(a("3493"),a("4023")),m=Object(h["a"])(g,s,n,!1,null,"45618f8b",null);t["default"]=m.exports},ddaa:function(e,t,a){}}]);