(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dec6a"],{"86a7":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Row",[e("Col",[e("Modal",{attrs:{title:"查看销量","mask-closable":!1,width:850},on:{"on-cancel":function(a){return t.EmitProposal(!1)}},model:{value:t.IsModal,callback:function(a){t.IsModal=a},expression:"IsModal"}},[e("Table",{attrs:{columns:t.TableCols,data:t.TableData,size:"small",stripe:""}}),e("div",{staticClass:"echarts_line P-MT-10",staticStyle:{width:"100%",height:"300px"},attrs:{id:"main"}}),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{on:{click:function(a){return t.EmitProposal(!1)}}},[t._v("返回")])],1)],1)],1)],1)},s=[],l=e("3231"),n=e("064d"),o=e("46d7"),r=e("631e"),c=e("4a81"),u=e("d11d"),d=e("c638"),h=e("803d");e("a13b"),e("4b8e"),e("9c75");var y=function(t){Object(o["a"])(e,t);var a=Object(r["a"])(e);function e(){var t;return Object(l["a"])(this,e),t=a.apply(this,arguments),t.IsModal=!1,t.TableData=[],t.LineData=[],t.XAxis=[],t.TableCols=[{title:"60日均",key:"Sixty"},{title:"45日均",key:"FortyFive"},{title:"30日均",key:"Thirty"},{title:"15日均",key:"Fifteen"},{title:"7日均",key:"Seven"}],t}return Object(n["a"])(e,[{key:"EmitProposal",value:function(t){this.$set(this,"IsModal",!1),h.init(document.getElementById("main"),"macarons").clear()}},{key:"TriggerModal",value:function(t){this.$set(this,"IsModal",!0),this.XAxis=[],this.LineData=[],this.TableData=[],this.GetSalesReport(t)}},{key:"GetSalesReport",value:function(t){var a=this;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.GetSKUSaleQuantity,Login:!0},Data:{SkuId:t[0].SkuId,WareHouseId:t[0].WareHouseId},Callback:function(t){if(t.IsSuccess){if(t.Data.Date.length>0){for(var e=t.Data.Date.length-1;e>=0;e--)a.XAxis.push(t.Data.Date[e].Days+"日均"),a.LineData.push(t.Data.Date[e].Qty);var i=new d["a"].DetailReportData;i["Sixty"]=t.Data.Date[4].Qty,i["FortyFive"]=t.Data.Date[3].Qty,i["Thirty"]=t.Data.Date[2].Qty,i["Fifteen"]=t.Data.Date[1].Qty,i["Seven"]=t.Data.Date[0].Qty,a.TableData.push(i)}a.chart()}else a.$Request.Error(t);a.$UI.Loading.Hide()}})}},{key:"chart",value:function(){var t={title:{text:""},tooltip:{trigger:"axis"},calculable:!0,xAxis:[{type:"category",name:"时间",boundaryGap:!1,data:this.XAxis}],yAxis:[{type:"value",name:"日均销量",axisLabel:{formatter:"{value}"}}],series:[{name:"销量",type:"line",data:this.LineData}]},a=document.getElementById("main"),e=h.init(a,"macarons");e.setOption(t)}}]),e}(u["d"]);c["a"]([Object(u["b"])()],y.prototype,"EmitProposal",null),y=c["a"]([Object(u["a"])({name:"ViewSalesReport"})],y);var p=y,D=p,v=e("4023"),b=Object(v["a"])(D,i,s,!1,null,null,null);a["default"]=b.exports}}]);