(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50a8f3ae"],{7187:function(a,t,l){},"9f2ae":function(a,t,l){"use strict";l.r(t);var o=function(){var a=this,t=a.$createElement,l=a._self._c||t;return l("div",{staticClass:"P-Inline-Block"},[l("Col",[l("Button",{staticClass:"P-MB-10 P-MR-10",attrs:{type:"primary"},on:{click:a.Trigger}},[a._v("SKU别名导入")]),l("Modal",{attrs:{title:"SKU别名导入","mask-closable":!1,width:800},on:{"on-cancel":function(t){return a.ClearModal(0)}},model:{value:a.ShowModal,callback:function(t){a.ShowModal=t},expression:"ShowModal"}},[l("Form",{attrs:{onsubmit:"return false","label-width":100}},[l("Form-item",{attrs:{label:"选择文件："}},[l("Upload",{ref:"UploadFileComponent",attrs:{format:["xls","xlsx"],action:a.UploadUrl,"before-upload":a.HandleUpload,"on-success":a.HandleSuccess,"on-error":a.HandleError,headers:a.$Request.Headers({Server:"",Api:{Address:"",Login:!0},Data:"",Form:!0})}},[l("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[a._v("选择文件")])],1),null!==a.UploadFile?l("p",[a._v(a._s(a.UploadFile.name)+" ")]):l("p",{staticClass:"P-Text-Error"},[a._v("说明：最多一次导入1000条数据")])],1),l("Form-item",{attrs:{label:"样表下载："}},[l("a",{staticClass:"ivu-btn",attrs:{href:a.$Server.Purchase+"/Template/Sku_Map.xls",download:""}},[a._v("SKU别名导入表格模板.xlsx")])])],1),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("Button",{attrs:{type:"primary"},on:{click:a.SubModal}},[a._v("提交")]),l("Button",{on:{click:function(t){return a.ClearModal(0)}}},[a._v("取消")])],1)],1),l("Modal",{attrs:{title:"提示",closable:!1,"mask-closable":!1},model:{value:a.ImportFailModal,callback:function(t){a.ImportFailModal=t},expression:"ImportFailModal"}},[l("p",{staticClass:"P-PD-15"},[a._v("本次导入成功【"+a._s(a.ImportSuccessNum)+"】条数据，导入失败【"+a._s(a.ImportFailedNum)+"】条数据，详情请下载导入失败SKU别名表格进行查看")]),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("Button",{attrs:{type:"primary"},on:{click:a.UploadImportFail}},[a._v("下载失败SKU别名表格")]),l("Button",{attrs:{type:"primary"},on:{click:function(t){a.ImportFailModal=!1}}},[a._v("确定")])],1)])],1)],1)},e=[],s=(l("d9b9"),l("5e8c"),l("03d8"),l("4d62"),l("1ff3"),l("3231")),i=l("064d"),r=l("46d7"),n=l("631e"),c=l("4a81"),u=l("d11d"),d=function(a){Object(r["a"])(l,a);var t=Object(n["a"])(l);function l(){var a;return Object(s["a"])(this,l),a=t.apply(this,arguments),a.UploadUrl="".concat(a.$Server.Purchase).concat(a.$Api.SkuMapImport),a.UploadFile=null,a.UploadTemplateTips="",a.ImportSuccessNum=0,a.ImportFailedNum=0,a.ImportFailModal=!1,a.ImportFailUrl="",a.ShowModal=!1,a}return Object(i["a"])(l,[{key:"HandleResMsg",value:function(a){}},{key:"Trigger",value:function(){this.ShowModal=!0}},{key:"ClearModal",value:function(a){this.$set(this,"ShowModal",!1),this.UploadFile=null,this.$refs["UploadFileComponent"].clearFiles(),this.HandleResMsg(a)}},{key:"SubModal",value:function(){if(null!==this.UploadFile){var a=this.UploadFile.name.slice(this.UploadFile.name.lastIndexOf(".")+1);["xls","xlsx"].includes(a)?(this.$refs["UploadFileComponent"].post(this.UploadFile),this.$UI.Loading.Show()):this.$UI.Tips.Floating("warning","仅支持xls、xlsx格式的表格文件导入")}else this.$UI.Tips.Floating("warning","请选择文件进行导入SKU别名操作")}},{key:"HandleUpload",value:function(a){return this.UploadFile=a,!1}},{key:"HandleSuccess",value:function(a,t){a.IsSuccess?(""!==a.Data.Data.Url?(this.ImportFailUrl=a.Data.Data.Url,this.ImportSuccessNum=a.Data.Data.SuccessQuantity,this.ImportFailedNum=a.Data.Data.FailureQuantity,this.ImportFailModal=!0):this.$UI.Tips.Floating("success","SKU别名导入成功"),this.ClearModal(1)):this.$Request.Error(a)}},{key:"HandleError",value:function(a,t,l){this.$UI.Tips.Floating("warning",a)}},{key:"UploadImportFail",value:function(){window.open("".concat(this.$Server.File,"/").concat(this.ImportFailUrl))}}]),l}(u["d"]);c["a"]([Object(u["b"])()],d.prototype,"HandleResMsg",null),d=c["a"]([Object(u["a"])({name:"SkuAliasImport"})],d);var p=d,m=p,h=(l("f909"),l("4023")),f=Object(h["a"])(m,o,e,!1,null,null,null);t["default"]=f.exports},f909:function(a,t,l){"use strict";var o=l("7187"),e=l.n(o);e.a}}]);