(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d699d"],{"72f2":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("Col",[t("Button",{attrs:{type:"primary"},on:{click:e.Trigger}},[e._v("合并")])],1)},n=[],i=(t("d9b9"),t("5d9d"),t("6ed5"),t("cee1"),t("6bf8"),t("7623"),t("522a"),t("52af"),t("430a")),s=t("e24e"),o=t("3231"),u=t("064d"),c=t("46d7"),d=t("631e"),p=t("4a81"),l=t("d11d"),y=function(e){Object(c["a"])(t,e);var r=Object(d["a"])(t);function t(){return Object(o["a"])(this,t),r.apply(this,arguments)}return Object(u["a"])(t,[{key:"TriggerOperations",value:function(e){}},{key:"EmitOperateSuccess",value:function(){}},{key:"Trigger",value:function(){this.TriggerOperations("MergeShipOrder")}},{key:"Validate",value:function(e){var r=this;if(e.length<2)this.$UI.Tips.Floating("warning","请选择两条以上状态为已确认、缺货、已拦截或联系客户的发货订单进行操作");else{var t,a=[],n=[],o=[],u=[],c=Object(s["a"])(e);try{var d=function(){var e=t.value;if(![2,7,8,9].some((function(r){return r===e.ShipOrder.Status})))return r.$UI.Tips.Floating("warning","请选择状态为已确认、缺货、已拦截、联系客户的发货订单进行操作"),{v:void 0};a.push(e.ShipOrder.Status),n.push("Platform:".concat(e.ShipOrder.Platform,",Warehouse:").concat(e.ShipOrder.ShipWarehouseId,",Country:").concat(e.Address.Country?e.Address.Country.CountryCode:"",",\n                    BuyerUserId:").concat(e.ShipOrder.BuyerUserId,",BuyerFullName:").concat(e.Address.BuyerFullName,",BuyerState:").concat(e.Address.BuyerState,",BuyerCity:").concat(e.Address.BuyerCity,",\n                    BuyerStreet1:").concat(e.Address.BuyerStreet1,",BuyerStreet2:").concat(e.Address.BuyerStreet2,",BuyerPhone:").concat(e.Address.BuyerPhone,",BuyerZipCode:").concat(e.Address.BuyerZipCode)),o.push(new Date(e.ShipOrder.PlatOrderTime).getTime()),u.push(e.ShipOrder.Id)};for(c.s();!(t=c.n()).done;){var p=d();if("object"===Object(i["a"])(p))return p.v}}catch(h){c.e(h)}finally{c.f()}var l=new Set(a),y=new Set(n);l.size>1?this.$UI.Tips.Floating("warning","请选择同一状态的发货订单进行操作"):y.size>1?this.$UI.Tips.Floating("warning","订单信息不一致，无法合并"):this.$UI.Tips.Modal({Type:"confirm",Content:"是否合并发货订单",Callback:function(e){if(e){r.$UI.Loading.Show();var t=Math.min.apply(Math,o),a=o.indexOf(t),n={TargetOrderId:u.splice(a,1)[0],SourceId:u};r.$Request.Post({Server:r.$Server.Warehouse,Api:{Address:r.$Api.MergeOrder,Login:!0},Data:n,Callback:function(e){e.IsSuccess?(r.$UI.Tips.Floating("success","合并发货订单成功"),r.EmitOperateSuccess()):(r.$UI.Loading.Hide(),r.$Request.Error(e))}})}}})}}}]),t}(l["d"]);p["a"]([Object(l["b"])()],y.prototype,"TriggerOperations",null),p["a"]([Object(l["b"])()],y.prototype,"EmitOperateSuccess",null),y=p["a"]([Object(l["a"])({name:"MergeOrder"})],y);var h=y,O=h,f=t("4023"),g=Object(f["a"])(O,a,n,!1,null,null,null);r["default"]=g.exports}}]);