(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9b27"],{"8f47":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",{staticClass:"P-Inline-Block"},[a("Button",{staticClass:"P-Inline-Block P-MR-5",attrs:{type:"primary"},on:{click:function(e){return t.OpenModal(1)}}},[t._v("提交审核")]),a("Button",{staticClass:"P-Inline-Block P-MR-5",attrs:{type:"primary"},on:{click:function(e){return t.OpenModal(2)}}},[t._v("通过")]),a("Button",{staticClass:"P-Inline-Block P-MR-5",attrs:{type:"primary"},on:{click:function(e){return t.OpenModal(3)}}},[t._v("不通过")]),a("Button",{staticClass:"P-Inline-Block P-MR-5",attrs:{type:"primary"},on:{click:function(e){return t.OpenModal(4)}}},[t._v("退回修改")]),a("Button",{staticClass:"P-Inline-Block",attrs:{type:"primary"},on:{click:function(e){return t.OpenModal(5)}}},[t._v("作废")]),a("Modal",{attrs:{title:["","提交审核","审核通过","审核不通过","退回修改","作废物料申请"][t.ModalType],"mask-closable":!1},on:{"on-cancel":function(e){return t.CancelModal(!1)}},model:{value:t.ShowModal,callback:function(e){t.ShowModal=e},expression:"ShowModal"}},[a("Form",{attrs:{onsubmit:"return false"}},[a("FormItem",[a("Input",{ref:"Remark_Ipt",attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"请输入备注..."},model:{value:t.Remark,callback:function(e){t.Remark=e},expression:"Remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:t.SubModal}},[t._v(t._s(["","提交审核","通过","不通过","退回修改","作废"][t.ModalType]))]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.CancelModal(!1)}}},[t._v("取消")])],1)],1)],1)},i=[],o=(a("76bb"),a("6ed5"),a("3231")),l=a("064d"),s=a("46d7"),r=a("631e"),c=a("4a81"),p=a("d11d"),u=function(t){Object(s["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.Remark="",t.ShowModal=!1,t.ModalType=0,t}return Object(l["a"])(a,[{key:"EmitChange",value:function(t,e){}},{key:"$Trigger",value:function(t){var e=this,a=t.ModalType;this.ModalType=a,this.ShowModal=!0,this.$nextTick((function(){e.$refs["Remark_Ipt"].focus()}))}},{key:"OpenModal",value:function(t){0!=this.PropSelected.length?1!=t&&5!=t||!this.PropSelected.some((function(t){return 1!=t.Status}))?2!=t&&3!=t&&4!=t||!this.PropSelected.some((function(t){return 2!=t.Status}))?this.$Trigger({ModalType:t}):this.$UI.Tips.Floating("warning","请选择状态为待审核的物料申请进行操作"):this.$UI.Tips.Floating("warning","请选择状态为新建的物料申请进行操作"):this.$UI.Tips.Floating("warning","请选择物料申请后进行操作")}},{key:"SubModal",value:function(){var t=this,e={Ids:this.PropSelected.map((function(t){return t.Id})),Remark:this.Remark,IsPass:!1};2==this.ModalType||3==this.ModalType?e.IsPass=Boolean(2==this.ModalType):delete e.IsPass,this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Warehouse,Api:{Address:["",this.$Api.MaterialApplySubmitApply,this.$Api.MaterialApplyAudit,this.$Api.MaterialApplyAudit,this.$Api.MaterialApplyReturnModify,this.$Api.MaterialApplyCancel][this.ModalType],Login:!0},Data:e,Callback:function(e){t.$UI.Loading.Hide(),e.IsSuccess?(t.$UI.Tips.Floating("success",["","提交审核物料申请成功","操作通过物料申请成功","操作不通过物料申请成功","操作退回修改物料申请成功","作废物料申请成功"][t.ModalType]),t.CancelModal(!0)):t.$Request.Error(e)}})}},{key:"CancelModal",value:function(t){this.ShowModal=!1,this.$set(this,"Remark",""),this.EmitChange(t)}}]),a}(p["d"]);c["a"]([Object(p["c"])()],u.prototype,"PropSelected",void 0),c["a"]([Object(p["b"])()],u.prototype,"EmitChange",null),u=c["a"]([Object(p["a"])({name:"MaterielApplyDetail"})],u);var d=u,h=d,y=a("4023"),M=Object(y["a"])(h,n,i,!1,null,"bf4296f6",null);e["default"]=M.exports}}]);