(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d09d3"],{6971:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Col",{staticClass:"P-Inline-Block"},[n("Button",{attrs:{type:"primary"},on:{click:e.TriggerOperate}},[e._v("导出eBay售后单")])],1)},i=[],a=(n("6412"),n("0a9c"),n("6ed5"),n("3231")),s=n("064d"),o=n("46d7"),c=n("631e"),u=n("4a81"),l=n("d11d"),p=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"TriggerOperate",value:function(){}},{key:"Trigger",value:function(e){var t=this;if(1===e.Platform)if(e.ProcessType.length)if(5===e.Status&&e.ProcessType.some((function(e){return 1===e||2===e})))this.$UI.Tips.Floating("warning","请选择正确的处理结果进行操作");else if(e.ProcessType.every((function(e){return 1==e||2==e}))||e.ProcessType.every((function(e){return 3==e||4==e}))){var n=this.IsTimeArea(e.AddTimeStart,e.AddTimeEnd,31);if(n){var r=this.IsTimeArea(e.DownloadTimeStart,e.DownloadTimeEnd,31);if(n&&r)return void this.$UI.Tips.Floating("warning",n)}this.$UI.Tips.Modal({Type:"confirm",Content:"是否确认导出当前筛选条件下的eBay售后单",Enter:!1,Callback:function(n){n&&t.PostExport(e)}})}else this.$UI.Tips.Floating("warning","请选择同类型的导出类型");else this.$UI.Tips.Floating("warning","请选择处理结果");else this.$UI.Tips.Floating("warning","请选择eBay平台进行操作")}},{key:"IsTimeArea",value:function(e,t,n){var r=[e,t];if(r.some((function(e){return""===e})))return"请补充时间区间";var i=+new Date(e),a=+new Date(t),s=+new Date;return i>s?"开始时间不得晚于当前时间":i>a?"开始时间不能晚于结束时间":a-i>864e5*n?"筛选添加时间区间最多只能".concat(n,"天"):""}},{key:"PostExport",value:function(e){var t=this;this.$UI.Loading.Show();var n=JSON.parse(JSON.stringify(e));n.ProcessType=n.ProcessType.join(","),this.$Request.Post({Server:this.$Server.CustomerService,Api:{Address:this.$Api.AfterSaleExport,Login:!0},Data:n,Callback:function(e){t.$UI.Loading.Hide(),e.IsSuccess?setTimeout((function(){t.$UI.Tips.Modal({Type:"success",Content:"创建导出Ebay售后单任务成功。请到报表-导出管理模块查看目前正在进行的导出任务，并在导出成功后可以下载对应数据。",Enter:!0})}),300):t.$Request.Error(e)}})}}]),n}(l["d"]);u["a"]([Object(l["b"])()],p.prototype,"TriggerOperate",null),p=u["a"]([Object(l["a"])({name:"ExportEbayOrder"})],p);var d=p,f=d,T=n("4023"),y=Object(T["a"])(f,r,i,!1,null,null,null);t["default"]=y.exports}}]);