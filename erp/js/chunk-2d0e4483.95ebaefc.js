(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e4483"],{"900f":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("Row",{staticClass:"P-Inline-Block"},[t("Col",[t("Button",{staticClass:"P-Inline-Block P-MR-10",attrs:{type:"primary"},on:{click:function(s){return e.OpenScanSignModal()}}},[e._v("扫描签收")]),t("Modal",{attrs:{title:"扫描签收","mask-closable":!1,width:"600"},on:{"on-cancel":function(s){return e.ClearModal(0)}},model:{value:e.ModifyModal,callback:function(s){e.ModifyModal=s},expression:"ModifyModal"}},[t("Form",{ref:"ExpressCodeForm",attrs:{"label-width":100,model:e.ExpressCodeForm,rules:e.ExpressCodeRule,inline:"",onsubmit:"return false"}},[t("Form-item",{staticClass:"P-MB-10 P-W-100-Percent",attrs:{label:"快递单号：",prop:"ExpressCode"}},[t("Input",{ref:"ExpressCodeInput",attrs:{placeholder:"快递单号"},on:{"on-enter":e.CheckScanSignData},model:{value:e.ExpressCodeForm.ExpressCode,callback:function(s){e.$set(e.ExpressCodeForm,"ExpressCode","string"===typeof s?s.trim():s)},expression:"ExpressCodeForm.ExpressCode"}}),t("p",{staticClass:"Color-Gray"},[e._v("请扫描/输入快递单号，输入完成后请按回车键。")])],1)],1),t("footer",{staticClass:"P-TA-R",attrs:{slot:"footer"},slot:"footer"},[t("Button",{on:{click:function(s){return e.ClearModal(0)}}},[e._v("取消")])],1)],1)],1)],1)},a=[],r=t("3231"),n=t("064d"),i=t("46d7"),l=t("631e"),c=t("4a81"),d=t("d11d"),u=t("c638"),p=function(e){Object(i["a"])(t,e);var s=Object(l["a"])(t);function t(){var e;return Object(r["a"])(this,t),e=s.apply(this,arguments),e.SelecData=[new u["a"].Pao],e.ModifyModal=!1,e.IsBatchButton=!1,e.ExpressCodeForm=new u["a"].ExpressCodeForm,e.ExpressCodeRule={ExpressCode:[{required:!0,message:" "}]},e}return Object(n["a"])(t,[{key:"HandleResMsg",value:function(e){}},{key:"Trigger",value:function(e){var s=this;this.IsBatchButton?(this.ModifyModal=!0,this.$nextTick((function(){s.$refs["ExpressCodeInput"].focus()}))):this.$UI.Tips.Modal({Type:"confirm",Content:"是否确认执行签收操作",Callback:function(t){t?s.ScanSignData(e[0].ExpressCode):s.HandleResMsg(0)}})}},{key:"OpenScanSignModal",value:function(){this.IsBatchButton=!0,this.HandleResMsg(2)}},{key:"CheckScanSignData",value:function(){var e=this;this.$refs["ExpressCodeForm"].validate((function(s){s&&e.ScanSignData(e.ExpressCodeForm.ExpressCode)}))}},{key:"ScanSignData",value:function(e){var s=this;this.$refs["ExpressCodeInput"].blur(),this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.PurchaseArrivalOrderSign,Login:!0},Data:e,Callback:function(e){e.IsSuccess?(s.$UI.Tips.Floating("success","签收成功"),s.ClearModal(1)):(s.$UI.Loading.Hide(),s.$Request.Error(e)),s.ModifyModal&&(s.$refs.ExpressCodeForm.resetFields(),s.$refs.ExpressCodeInput.focus())}})}},{key:"ClearModal",value:function(e){this.ModifyModal=!1,this.ExpressCodeForm.ExpressCode="",this.IsBatchButton=!1,this.$refs["ExpressCodeForm"].resetFields(),this.ExpressCodeForm=new u["a"].ExpressCodeForm,this.HandleResMsg(e)}}]),t}(d["d"]);c["a"]([Object(d["b"])()],p.prototype,"HandleResMsg",null),p=c["a"]([Object(d["a"])({name:"ScanSign"})],p);var f=p,C=f,h=t("4023"),x=Object(h["a"])(C,o,a,!1,null,null,null);s["default"]=x.exports}}]);