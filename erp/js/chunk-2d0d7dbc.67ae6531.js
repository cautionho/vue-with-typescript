(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7dbc"],{7937:function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("Row",{staticClass:"P-Inline-Block"},[e("Button",{staticClass:"P-MB-10 P-MR-10 P-Inline-Block",attrs:{type:"primary"},on:{click:function(o){return t.ExportProfit(!0)}}},[t._v("导出当前列表数据")]),e("Modal",{attrs:{title:"导出当前列表数据","mask-closable":!1,width:"500"},on:{"on-cancel":function(o){t.ShoModal=!1}},model:{value:t.ShowModal,callback:function(o){t.ShowModal=o},expression:"ShowModal"}},[e("Form",{ref:"ExportForm",attrs:{onsubmit:"return false",model:t.ExportForm,rules:t.ExportFormRule,"label-width":100,name:"ExportForm"}},[e("Form-item",{attrs:{label:"导入方式：",prop:"ExportType"}},[e("Select",{attrs:{placeholder:"筛选导入方式：",options:t.ExportTypeList},model:{value:t.ExportForm.ExportType,callback:function(o){t.$set(t.ExportForm,"ExportType",o)},expression:"ExportForm.ExportType"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary"},on:{click:function(o){return t.PostExport()}}},[t._v("导出")]),e("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(o){t.ShowModal=!1}}},[t._v("取消")])],1)],1)],1)},a=[],n=e("3231"),s=e("064d"),i=e("46d7"),p=e("631e"),l=e("4a81"),c=e("d11d"),u=e("1b1c"),x=function(t){Object(i["a"])(e,t);var o=Object(p["a"])(e);function e(){var t;return Object(n["a"])(this,e),t=o.apply(this,arguments),t.PageIndex=0,t.PageSize=0,t.ShowModal=!1,t.ExportForm=new u["a"].GrossProfitExportForm,t.PostData=new u["a"].GrossProfitExport,t.ExportTypeList=t.$Utils.GetEnumArr(t.$Enums.Report.ExportType),t.ExportFormRule={ExportType:[{required:!0,message:"请选择导入方式",trigger:"change",type:"number"}]},t}return Object(s["a"])(e,[{key:"ExportProfit",value:function(t){this.ShowModal=!1,this.$refs["ExportForm"].resetFields()}},{key:"Trigger",value:function(t,o,e){this.PostData=t,this.PageIndex=o,this.PageSize=e,this.ShowModal=!0}},{key:"PostExport",value:function(){var t=this;this.$refs["ExportForm"].validate((function(o){o&&(t.PostData.ExportType=t.ExportForm.ExportType,t.$UI.Loading.Show(),t.$Request.Post({Server:t.$Server.Warehouse,Api:{Address:t.$Api.ExportSalesTradingProfit,Login:!0},Data:{PageIndex:t.PageIndex,PageSize:t.PageSize,Conditions:t.PostData},Callback:function(o){t.$UI.Loading.Hide(),o.IsSuccess?(t.$UI.Tips.Modal({Type:"success",Content:"创建".concat(t.$Enums.Report.ExportType[t.ExportForm.ExportType],"任务成功。请到报表-导出管理模块查看目前正在进行的导出任务，并在导出成功后可以下载对应数据。"),Callback:function(t){}}),t.ExportProfit(!1)):t.$Request.Error(o)}}))}))}}]),e}(c["d"]);l["a"]([Object(c["b"])()],x.prototype,"ExportProfit",null),x=l["a"]([Object(c["a"])({name:"ExportSalesProfit"})],x);var d=x,E=d,f=e("4023"),m=Object(f["a"])(E,r,a,!1,null,null,null);o["default"]=m.exports}}]);