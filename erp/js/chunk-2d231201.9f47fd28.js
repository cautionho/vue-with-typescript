(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d231201"],{eee0:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"P-Search-Group",attrs:{span:"24"}},[r("Form",{ref:"SearchFilter",attrs:{inline:""},model:{value:e.SearchFilter,callback:function(t){e.SearchFilter=t},expression:"SearchFilter"}},[r("Dropdown",{attrs:{trigger:"custom",visible:e.AccurateSearch}},[r("Button",{attrs:{type:"primary"},on:{click:e.TriggerSearch}},[e._v(" 精准搜索 "),r("Icon",{attrs:{type:"ios-arrow-down"}})],1),r("Col",{staticClass:"P-P-10",attrs:{slot:"list",span:"24"},slot:"list"},[e.IsFromSales?e._e():r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选平台",onChange:e.GetStoreDrop,options:e.PlatformDrop},model:{value:e.SearchFilter.Platform,callback:function(t){e.$set(e.SearchFilter,"Platform",t)},expression:"SearchFilter.Platform"}}),r("Select",{ref:"StoreDrop",staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选店铺",options:e.StoreDrop},model:{value:e.SearchFilter.StoreId,callback:function(t){e.$set(e.SearchFilter,"StoreId",t)},expression:"SearchFilter.StoreId"}}),e.IsStatusFilter?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选状态",options:e.StatusDrop},model:{value:e.SearchFilter.Status,callback:function(t){e.$set(e.SearchFilter,"Status",t)},expression:"SearchFilter.Status"}}):e._e(),r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选国家",options:e.COUNTRY_DROP,optionValKey:"CountryCode",optionKey:"CountryName"},model:{value:e.SearchFilter.Country,callback:function(t){e.$set(e.SearchFilter,"Country",t)},expression:"SearchFilter.Country"}}),r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选发货仓",options:e.WarehouseDrop,onChange:e.GetShipMethodDrop},model:{value:e.SearchFilter.ShipWarehouseId,callback:function(t){e.$set(e.SearchFilter,"ShipWarehouseId",t)},expression:"SearchFilter.ShipWarehouseId"}}),r("Select",{ref:"ShipMethodDrop",staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选物流渠道",options:e.ShipMethodDrop,optionValKey:"Id",optionKey:"Name"},model:{value:e.SearchFilter.ShipMethodId,callback:function(t){e.$set(e.SearchFilter,"ShipMethodId",t)},expression:"SearchFilter.ShipMethodId"}}),"LogisticsException"===e.Page?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选物流状态",options:e.LogisticsStatusDrop},model:{value:e.SearchFilter.LogisticsStatus,callback:function(t){e.$set(e.SearchFilter,"LogisticsStatus",t)},expression:"SearchFilter.LogisticsStatus"}}):e._e(),"LogisticsException"===e.Page?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选客服联系状态",options:e.CustomerProcessDrop},model:{value:e.SearchFilter.CustomerStatus,callback:function(t){e.$set(e.SearchFilter,"CustomerStatus",t)},expression:"SearchFilter.CustomerStatus"}}):e._e(),e.IsFromSales?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选异常单",options:e.ExceptionDrop},model:{value:e.SearchFilter.IsException,callback:function(t){e.$set(e.SearchFilter,"IsException",t)},expression:"SearchFilter.IsException"}}):e._e(),e.IsWarehouseWork?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选明细类型",options:e.ItemTypeDrop},model:{value:e.SearchFilter.ItemType,callback:function(t){e.$set(e.SearchFilter,"ItemType",t)},expression:"SearchFilter.ItemType"}}):e._e(),e.IsLocation?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选库区（可多选）",options:e.Locations,multiple:""},model:{value:e.SearchFilter.Location,callback:function(t){e.$set(e.SearchFilter,"Location",t)},expression:"SearchFilter.Location"}}):e._e(),e.IsReview?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选审核规则",options:e.RulesDrop},model:{value:e.SearchFilter.RuleId,callback:function(t){e.$set(e.SearchFilter,"RuleId",t)},expression:"SearchFilter.RuleId"}}):e._e(),r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"时间类型",options:e.TimeTypeDrop},model:{value:e.SearchFilter.TimeType,callback:function(t){e.$set(e.SearchFilter,"TimeType",t)},expression:"SearchFilter.TimeType"}}),r("DatePicker",{staticClass:"P-W-200 P-ML-10 P-MB-10 P-VA-T",attrs:{type:"datetime",placeholder:"开始时间"},model:{value:e.SearchFilter.StartTime,callback:function(t){e.$set(e.SearchFilter,"StartTime",t)},expression:"SearchFilter.StartTime"}}),r("DatePicker",{staticClass:"P-W-200 P-ML-10 P-MB-10 P-VA-T",attrs:{type:"datetime",placeholder:"结束时间"},model:{value:e.SearchFilter.EndTime,callback:function(t){e.$set(e.SearchFilter,"EndTime",t)},expression:"SearchFilter.EndTime"}}),e.IsSort?r("Select",{staticClass:"P-W-200 P-ML-10 P-MB-10",attrs:{placeholder:"筛选排序方式",options:e.SortDrop},model:{value:e.SortOrder,callback:function(t){e.SortOrder=t},expression:"SortOrder"}}):e._e()],1)],1),r("FormItem",{staticClass:"P-ML-10 P-MB-10"},[r("Input",{staticClass:"P-W-400",attrs:{placeholder:"搜索关键字"},on:{"on-enter":e.SearchList},model:{value:e.SearchFilter.SearchKey,callback:function(t){e.$set(e.SearchFilter,"SearchKey",t)},expression:"SearchFilter.SearchKey"}},[r("Select",{staticClass:"P-W-100 P-TA-L",attrs:{slot:"prepend",placeholder:"搜索关键词",options:e.SearchKeyType},slot:"prepend",model:{value:e.SearchFilter.SearchKeyType,callback:function(t){e.$set(e.SearchFilter,"SearchKeyType",t)},expression:"SearchFilter.SearchKeyType"}}),r("Button",{attrs:{slot:"append",type:"primary"},on:{click:e.SearchList},slot:"append"},[e._v("搜索")])],1)],1),r("FormItem",{staticClass:"P-ML-10 P-MB-10"},[r("Button",{attrs:{type:"warning"},on:{click:e.ResetList}},[e._v("重置")])],1)],1)],1)},a=[],i=(r("d9b9"),r("02cc"),r("5e8c"),r("0a9c"),r("cee1"),r("9b6f"),r("5c62")),o=r("3231"),c=r("064d"),l=r("46d7"),h=r("631e"),n=r("4a81"),p=r("d11d"),S=r("a349"),u=r("1459"),d=r("db83"),P=function(e){Object(l["a"])(r,e);var t=Object(h["a"])(r);function r(){var e;return Object(o["a"])(this,r),e=t.apply(this,arguments),e.AccurateSearch=!1,e.PlatformDrop=e.$Utils.GetEnumArr(e.$Enums.Sales.Platform),e.StoreDrop=[],e.WarehouseDrop=[],e.ShipMethodDrop=[],e.RulesDrop=[],e.ItemTypeDrop=e.$Utils.GetEnumArr(e.$Enums.Warehouse.ItemType),e.Locations=e.GetLocations(),e.TimeTypeDrop=e.$Utils.GetEnumArr(e.$Enums.Warehouse.TimeType),e.StatusDrop=e.$Utils.GetEnumArr(e.$Enums.Warehouse.ShipOrderStatus),e.ExceptionDrop=e.$Utils.GetEnumArr(e.$Enums.Public.YesNo),e.LogisticsStatusDrop=e.$Utils.GetEnumArr(e.$Enums.CustomerService.LogisticsStatus),e.CustomerProcessDrop=e.$Utils.GetEnumArr(e.$Enums.CustomerService.CustomerHandleProcess),e.SortDrop=e.$Utils.GetEnumArr(e.$Enums.Warehouse.SortType),e.SearchKeyType=e.$Utils.GetEnumArr(e.$Enums.Warehouse.ShipOrderKeyType),e.SearchFilter=new u["a"].ShipOrderSearch,e.SortField="",e.SortOrder=0,e.ListApi=e.$Api.ShipOrderGetList,e.ListApis=[{Key:"ClearOutStock",Value:e.$Api.GetExistClearStockoutList},{Key:"LogisticsException",Value:e.$Api.LogisticsAnomalyRecordList},{Key:"WaitHoldUp",Value:e.$Api.GetWaitHoldUpOrderList},{Key:"WaitAudit",Value:e.$Api.GetWaitAuditList},{Key:"SkuError",Value:e.$Api.GetShipOrderSkuErrorList},{Key:"NoMatchWarehouse",Value:e.$Api.GetUnmatchWareHouseList}],e.IsWarehouseWork=!1,e.IsFromSales=!1,e.IsStatusFilter=!1,e.IsLocation=!1,e.IsReview=!1,e.IsSort=!1,e}return Object(c["a"])(r,[{key:"EmitList",value:function(e,t){}},{key:"EmitPagerChange",value:function(e,t){}},{key:"mounted",value:function(){var e=this;this.$set(this,"SearchFilter",JSON.parse(JSON.stringify(this.SearchInit))),this.SetFilterFlag();var t=this.ListApis.filter((function(t){return t.Key===e.Page}))[0];this.ListApi=t?t.Value:this.ListApi,this.SearchList(),this.COUNTRY_DROP.length||this["Base/UPDATE_BASE_INFO"]("COUNTRY"),this.WarehouseDrop.length||this.GetWarehouseDrop(),this.IsFromSales&&this.SearchFilter.Platform&&this.GetStoreDrop(this.SearchFilter.Platform)}},{key:"SetFilterFlag",value:function(){this.$set(this,"IsFromSales",this.$Enums.Sales.Platform[this.Page]>0);var e=["Confirmed","WaitPick","Picked","Packed","Shiped","StockOut","HoldUp","ClearOutStock","PauseOutStock","Exception"],t=["WaitAudit","OneDayNoTrackingNumber","TwoDaysNotShiped","FiveDaysNotShiped","WaitHoldUp"];this.$set(this,"IsWarehouseWork",e.concat(t).concat(["SkuError","NoMatchWarehouse"]).includes(this.Page));var r=e.concat(["Contact","SkuError","NoMatchWarehouse"]);this.$set(this,"IsStatusFilter",!r.includes(this.Page));var s=e.concat(["ClearOutStock","WaitHoldUp","PauseOutStock"]);this.$set(this,"IsLocation",s.includes(this.Page)),this.$set(this,"IsReview","WaitAudit"===this.Page),this.$set(this,"IsSort","StockOut"===this.Page),this.IsReview&&this.GetReviewRulesDrop()}},{key:"GetStoreDrop",value:function(e){var t=this;this.$refs.StoreDrop.clearSingleSelect(),e&&this.$Api.Sales[String(e)].StoreDrop?this.$Request.Post({Server:this.$Server.Sales,Api:{Address:this.$Api.Sales[String(e)].StoreDrop,Login:!1},Data:"",Callback:function(e){e.IsSuccess?t.$set(t,"StoreDrop",e.Data.DropList):t.$Request.Error(e)}}):this.$set(this,"StoreDrop",[])}},{key:"GetWarehouseDrop",value:function(){var e=this;this.$Request.Post({Server:this.$Server.Settings,Api:{Address:this.$Api.GetWarehouseDropList,Login:!1},Data:!0,Callback:function(t){var r;t.IsSuccess?(r=e.WarehouseDrop).push.apply(r,Object(i["a"])(t.Data.DropList)):e.$Request.Error(t)}})}},{key:"GetShipMethodDrop",value:function(e){var t=this;this.$refs.ShipMethodDrop.clearSingleSelect(),e?this.$Request.Post({Server:this.$Server.Logistics,Api:{Address:this.$Api.ChannelDropList,Login:!1},Data:e,Callback:function(e){var r;e.IsSuccess?(r=t.ShipMethodDrop).splice.apply(r,[0,t.ShipMethodDrop.length].concat(Object(i["a"])(e.Data.DropList))):t.$Request.Error(e)}}):this.$set(this,"ShipMethodDrop",[])}},{key:"GetLocations",value:function(){for(var e=[],t=1;t<=15;t++)e.push({Key:t,Value:t});return e}},{key:"GetReviewRulesDrop",value:function(){var e=this;this.$Request.Post({Server:this.$Server.Settings,Api:{Address:this.$Api.AuditRulesDropList,Login:!1},Data:"",Callback:function(t){var r;t.IsSuccess?(r=e.RulesDrop).splice.apply(r,[0,e.RulesDrop.length].concat(Object(i["a"])(t.Data.DropList))):e.$Request.Error(t)}})}},{key:"TriggerSearch",value:function(){this.$set(this,"AccurateSearch",!this.AccurateSearch)}},{key:"CloseSearch",value:function(){this.$set(this,"AccurateSearch",!1)}},{key:"SearchList",value:function(){var e=this;this.$UI.Loading.Show();var t=JSON.parse(JSON.stringify(this.SearchFilter));t.Location=t.Location.join(","),t.StartTime=t.StartTime?this.$UI.Render.NewDate(t.StartTime):"",t.EndTime=t.EndTime?this.$UI.Render.NewDate(t.StartTime):"",this.$Request.Post({Server:"LogisticsException"===this.Page?this.$Server.CustomerService:this.$Server.Warehouse,Api:{Address:this.ListApi,Login:!0},Data:{PageIndex:this.Pager.PageIndex,PageSize:this.Pager.PageSize,SortField:this.SortOrder?"Price":"",SortOrder:1===this.SortOrder?"desc":2===this.SortOrder?"asc":"",Conditions:t},Callback:function(t){e.$UI.Loading.Hide(),e.CloseSearch(),t.IsSuccess?e.EmitList(t.Data.PageModel.Items,t.Data.PageModel.TotalItems):e.$Request.Error(t)}})}},{key:"ResetList",value:function(){this.$set(this,"SearchFilter",new u["a"].ShipOrderSearch(this.SearchInit)),this.$set(this,"SortOrder",0),this.EmitPagerChange(new d["a"].Pager,!0)}},{key:"COUNTRY_DROP",get:function(){return this["Base/COUNTRY_DROP"]}}]),r}(p["d"]);n["a"]([S["a"]],P.prototype,"Base/UPDATE_BASE_INFO",void 0),n["a"]([S["b"]],P.prototype,"Base/COUNTRY_DROP",void 0),n["a"]([Object(p["c"])(u["a"].ShipOrderSearch)],P.prototype,"SearchInit",void 0),n["a"]([Object(p["c"])(d["a"].Pager)],P.prototype,"Pager",void 0),n["a"]([Object(p["c"])(String)],P.prototype,"Page",void 0),n["a"]([Object(p["b"])()],P.prototype,"EmitList",null),n["a"]([Object(p["b"])()],P.prototype,"EmitPagerChange",null),P=n["a"]([Object(p["a"])({})],P);var m=P,$=m,y=r("4023"),v=Object(y["a"])($,s,a,!1,null,null,null);t["default"]=v.exports}}]);