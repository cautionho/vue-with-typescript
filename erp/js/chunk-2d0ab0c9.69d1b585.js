(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab0c9"],{"142b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"P-Inline-Block"},[a("Col",[e.Power?a("Button",{staticClass:"P-MR-10 P-MB-10",attrs:{type:"primary"},on:{click:e.TriggerModal}},[e._v("添加事项")]):e._e(),a("Modal",{attrs:{title:0==e.BackLogMsg.Id?"添加事项":"编辑事项","mask-closable":!1,width:500},on:{"on-cancel":function(t){return e.HandleResMsg(!1)}},model:{value:e.MattersModal,callback:function(t){e.MattersModal=t},expression:"MattersModal"}},[a("Form",{ref:"BackLogMsg",attrs:{onsubmit:"return false",model:e.BackLogMsg,rules:e.MattersRule,"label-width":110}},[a("Form-item",{attrs:{label:"所属类目：",prop:"CategoryId"}},[a("Select",{attrs:{placeholder:"所属类目",options:e.TreeList,optionValKey:"Id",optionKey:"CategoryName"},model:{value:e.BackLogMsg.CategoryId,callback:function(t){e.$set(e.BackLogMsg,"CategoryId",t)},expression:"BackLogMsg.CategoryId"}})],1),a("Form-item",{attrs:{label:"事项名称：",prop:"ItemName"}},[a("Input",{ref:"ItemName",attrs:{placeholder:"事项名称"},model:{value:e.BackLogMsg.ItemName,callback:function(t){e.$set(e.BackLogMsg,"ItemName",t)},expression:"BackLogMsg.ItemName"}})],1),a("Form-item",{attrs:{label:"跳转链接：",prop:"HrefUrl"}},[a("Input",{attrs:{placeholder:"跳转链接"},model:{value:e.BackLogMsg.HrefUrl,callback:function(t){e.$set(e.BackLogMsg,"HrefUrl",t)},expression:"BackLogMsg.HrefUrl"}})],1),a("Form-item",{attrs:{label:"请求API：",prop:"RequestUrl"}},[a("Input",{attrs:{placeholder:"请求API"},model:{value:e.BackLogMsg.RequestUrl,callback:function(t){e.$set(e.BackLogMsg,"RequestUrl",t)},expression:"BackLogMsg.RequestUrl"}})],1),a("Form-item",{attrs:{label:"事项单位：",prop:"Unit"}},[a("Input",{attrs:{placeholder:"事项单位"},model:{value:e.BackLogMsg.Unit,callback:function(t){e.$set(e.BackLogMsg,"Unit",t)},expression:"BackLogMsg.Unit"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.ValidatePostMatter}},[e._v("提交")]),a("Button",{on:{click:function(t){return e.HandleResMsg(!1)}}},[e._v("取消")])],1)],1)],1)],1)},o=[],r=a("3231"),l=a("064d"),c=a("46d7"),i=a("631e"),n=a("4a81"),g=a("d11d"),u=a("2fce"),d=function(e){Object(c["a"])(a,e);var t=Object(i["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.MattersModal=!1,e.BackLogMsg=new u["a"].BackLog,e.MattersRule={CategoryId:[{type:"number",required:!0,message:"请选择所属类目",trigger:"change"}],ItemName:[{required:!0,message:"请输入事项名称"}],HrefUrl:[{required:!0,message:"请输入跳转链接"}],RequestUrl:[{required:!0,message:"请输入请求API"}],Unit:[{required:!0,message:"请输入事项单位"}]},e}return Object(l["a"])(a,[{key:"HandleResMsg",value:function(e){this.$set(this,"MattersModal",!1),this.BackLogMsg=new u["a"].BackLog,this.$refs["BackLogMsg"].resetFields()}},{key:"TriggerModal",value:function(e){e.length&&(this.BackLogMsg=e[0]),this.$set(this,"MattersModal",!0),this.$nextTick((function(){this.$refs["ItemName"].focus()}))}},{key:"ValidatePostMatter",value:function(){var e=this;this.$refs["BackLogMsg"].validate((function(t){t&&e.PostBackLogMsg()}))}},{key:"PostBackLogMsg",value:function(){var e=this;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Settings,Api:{Address:0===this.BackLogMsg.Id?this.$Api.ToDoCreateItem:this.$Api.ToDoModifyItem,Login:!0},Data:this.BackLogMsg,Callback:function(t){t.IsSuccess?(e.$UI.Tips.Floating("success","".concat(0===e.BackLogMsg.Id?"添加事项成功":"编辑事项成功")),e.HandleResMsg(!0)):(e.$Request.Error(t),e.$nextTick((function(){this.$refs["ItemName"].focus()})),e.$UI.Loading.Hide())}})}}]),a}(g["d"]);n["a"]([Object(g["c"])()],d.prototype,"TreeList",void 0),n["a"]([Object(g["c"])()],d.prototype,"Power",void 0),n["a"]([Object(g["b"])()],d.prototype,"HandleResMsg",null),d=n["a"]([Object(g["a"])({name:"ModifyMatters"})],d);var M=d,k=M,p=a("4023"),m=Object(p["a"])(k,s,o,!1,null,null,null);t["default"]=m.exports}}]);