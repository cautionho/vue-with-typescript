(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d9fe0"],{"6a65":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:2===t.Type?"回复评价":3===t.Type?"删除评价":4===t.Type?"设置状态":"设置备注","mask-closable":!1},on:{"on-cancel":function(e){return t.HandleRes(!1)}},model:{value:t.ShowModal,callback:function(e){t.ShowModal=e},expression:"ShowModal"}},[a("Form",{attrs:{onsubmit:"return false;","label-width":100}},[4!=t.Type?a("div",[a("p",{staticClass:"P-MB-5",class:[5===t.Type?"P-None":""]},[t._v("回复内容")]),a("Input",{ref:"Remark",attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:5===t.Type?"请输入备注":"",maxlength:5!==t.Type?500:""},model:{value:t.Remark,callback:function(e){t.Remark=e},expression:"Remark"}}),a("p",{staticClass:"P-MT-10",class:[5===t.Type?"P-None":""]},[t._v("回复内容最多输入只能输入500个字符")])],1):a("FormItem",{staticClass:"ivu-form-item-required",attrs:{label:"选择状态："}},[a("Select",{attrs:{placeholder:"请选择状态",options:t.StateDrop},model:{value:t.State,callback:function(e){t.State=e},expression:"State"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"P-MR-5",attrs:{type:"primary"},on:{click:t.Valid}},[t._v("提交")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.HandleRes(!1)}}},[t._v("取消")])],1)],1)},i=[],r=(a("76bb"),a("55c7"),a("3231")),n=a("064d"),o=a("46d7"),l=a("631e"),p=a("4a81"),c=a("d11d"),u=function(t){Object(o["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.CurrOpeData=[],t.Remark="",t.ShowModal=!1,t.Type=0,t.State=0,t.StateDrop=t.$Utils.GetEnumArr(t.$Enums.CustomerService.AllegroRatingState),t}return Object(n["a"])(a,[{key:"HandleRes",value:function(t){this.ShowModal=!1,this.Remark="",this.State=0}},{key:"TriggerModal",value:function(t,e,a){var s=this;this.Type=e,this.CurrOpeData=t,5!==this.Type||a||(this.Remark=this.CurrOpeData[0].Remark),4!==this.Type||a||(this.State=this.CurrOpeData[0].State),this.ShowModal=!0,4!==this.Type&&this.$nextTick((function(){s.$refs.Remark.focus()}))}},{key:"Valid",value:function(){var t=this;if(2!==this.Type&&3!==this.Type||""!==this.Remark.trim())if(4!==this.Type||this.State){var e={Id:this.CurrOpeData[0].Id,Content:this.Remark.trim()},a={Ids:this.CurrOpeData.map((function(t){return t.Id})),Remark:this.Remark},s={Ids:this.CurrOpeData.map((function(t){return t.Id})),State:this.State};this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.CustomerService,Api:{Address:2===this.Type?this.$Api.AllegroRatingsReply:3===this.Type?this.$Api.AllegroRatingsDelete:4===this.Type?this.$Api.AllegroRatingsUpdateState:this.$Api.AllegroRatingsSetRemark,Login:!0},Data:5===this.Type?a:4===this.Type?s:e,Callback:function(e){e.IsSuccess?(t.$UI.Tips.Floating("success","".concat(2==t.Type?"回复评价":3===t.Type?"删除评价":4===t.Type?"设置状态":5===t.Type?"设置备注":"","成功")),t.HandleRes(!0)):(t.$UI.Loading.Hide(),t.$Request.Error(e))}})}else this.$UI.Tips.Floating("warning","请选择状态");else this.$UI.Tips.Floating("warning","请输入内容")}}]),a}(c["d"]);p["a"]([Object(c["b"])()],u.prototype,"HandleRes",null),u=p["a"]([Object(c["a"])({name:"AllegroRatingOpe",components:{}})],u);var h=u,d=h,m=a("4023"),y=Object(m["a"])(d,s,i,!1,null,null,null);e["default"]=y.exports}}]);