(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c6d2971","chunk-2d0cfe53","chunk-2d2213fb"],{6652:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("Row",{staticClass:"P-Inline-Block"},[t("Modal",{staticClass:"Container-Tabs",attrs:{title:e.DisputedType>1?"处理纠纷":0===e.DisputedType?"发货订单详情":"纠纷详情","mask-closable":!1,width:1200},on:{"on-cancel":e.CancelShipOrderModal},model:{value:e.ShipOrderModal,callback:function(r){e.ShipOrderModal=r},expression:"ShipOrderModal"}},[t("Tabs",{attrs:{type:"card",name:"ShipOrderDetailsTabs",closable:!1,value:e.ActiveTab},on:{"on-click":e.ChangeTabs}},[e.DisputedType>0?t("TabPane",{attrs:{label:"纠纷详情",name:"DisputedBaseInfo",tab:"ShipOrderDetailsTabs",index:1}},[e.DisputedCompName?t(e.DisputedCompName,{ref:e.DisputedCompName,tag:"component",on:{"emit-operate-success":e.EmitDisputedSuccess,"emit-cancel-details":e.CancelShipOrderModal}}):e._e()],1):e._e(),t("TabPane",{attrs:{label:"基本信息",name:"ShipOrderBaseInfo",tab:"ShipOrderDetailsTabs",index:2}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?t("ShipOrderBaseInfo",{on:{"emit-operate-success":e.EmitDetailsOperateSuccess}}):e._e()],1),t("TabPane",{attrs:{label:"订单明细",name:"ShipOrderItems",tab:"ShipOrderDetailsTabs",index:3}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?t("ShipOrderItems"):e._e()],1),t("TabPane",{attrs:{label:"配送地址",name:"ShipOrderAddress",tab:"ShipOrderDetailsTabs",index:4}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?t("ShipOrderAddress"):e._e()],1),t("TabPane",{attrs:{label:"发货物流",name:"ShipOrderLogistics",tab:"ShipOrderDetailsTabs",index:5}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?t("ShipOrderLogistics"):e._e()],1),t("TabPane",{attrs:{label:"售后",name:"ShipOrderAS",tab:"ShipOrderDetailsTabs",index:6}},[t("ShipOrderAfterSales",{ref:"ShipOrderAfterSales",on:{"emit-disputed-details":e.TriggerDisputedDetails,"emit-after-sales-order":e.TriggerAfterSalesOrder}})],1),t("TabPane",{attrs:{label:"操作记录",name:"ShipOrderHistory",tab:"ShipOrderDetailsTabs",index:7}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?t("ShipOrderHistory"):e._e()],1),e.SHIP_ORDER_INFO.IsReport?t("TabPane",{attrs:{label:"毛利",name:"ShipOrderProfits",tab:"ShipOrderDetailsTabs",index:8}},[t("ShipOrderGrossProfits",{ref:"ShipOrderGrossProfits"})],1):e._e()],1),t("footer",{attrs:{slot:"footer"},slot:"footer"},[e.DisputedType<2?t("ShipOrderDetailsOperate",{ref:"ShipOrderDetailsOperate",on:{"cancel-ship-order-modal":e.CancelShipOrderModal,"emit-operate-success":e.EmitDetailsOperateSuccess}}):t("DisputedOperate",{attrs:{DisputedCompName:e.DisputedCompName,DisputedType:e.DisputedType},on:{"cancel-ship-order-modal":e.CancelShipOrderModal,"emit-operate-success":e.EmitDetailsOperateSuccess}})],1)],1),t("Modal",{attrs:{title:"纠纷详情",width:1e3},on:{"on-cancel":e.CancelDisputedModal},model:{value:e.DisputedModal,callback:function(r){e.DisputedModal=r},expression:"DisputedModal"}},[t(e.DisputedDetailsCompName,{ref:"DisputedDetails"+e.DisputedDetailsCompName,tag:"component"}),t("footer",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{on:{click:e.CancelDisputedModal}},[e._v("返回")])],1)],1),t("ModifyAfterSalesOrder",{ref:"ModifyAfterSalesOrder",on:{"emit-operate-success":e.UpdateShipOrderAfterSales}}),t("AfterSalesOrderDetails",{ref:"AfterSalesOrderDetails"})],1)},i=[],s=(t("6bf8"),t("3231")),n=t("064d"),o=t("46d7"),d=t("631e"),u=t("5c62"),l=t("4a81"),p=t("d11d"),c=t("a349"),h=t("1459"),S=[{Key:"ShipOrderBaseInfo",Value:"./ShipOrderBaseInfo"},{Key:"ShipOrderItems",Value:"./ShipOrderItems"},{Key:"ShipOrderAddress",Value:"./ShipOrderAddress"},{Key:"ShipOrderLogistics",Value:"./ShipOrderLogistics"},{Key:"ShipOrderHistory",Value:"./ShipOrderHistory"},{Key:"ShipOrderDetailsOperate",Value:"./ShipOrderDetailsOperate"},{Key:"ShipOrderAfterSales",Value:"./ShipOrderAfterSales"},{Key:"ShipOrderGrossProfits",Value:"./ShipOrderGrossProfits"}];function O(){for(var e=[],r=function(r,a){e.push((function(){return{component:t("9c61")("".concat(S[r].Value,".vue")),delay:1e3,timeout:3e3}}))},a=0,i=S.length;a<i;a++)r(a,i);return e}for(var f=Object(u["a"])(O()),y=(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],function(e,r){p["d"].component(S[e].Key,(function(r,a){setTimeout((function(){var a=S[e].Value;Promise.all([t.e("chunk-2d2132e8"),t.e("chunk-fc0c2f14"),t.e("chunk-7876b156"),t.e("chunk-b5e03706")]).then(function(){var e=[t("d2b9")("".concat(a,".vue"))];r.apply(null,e)}.bind(this)).catch(t.oe)}),1e3)}))}),P=0,D=S.length;P<D;P++)y(P,D);var m=function(e){Object(o["a"])(t,e);var r=Object(d["a"])(t);function t(){var e;return Object(s["a"])(this,t),e=r.apply(this,arguments),e.ShipOrderModal=!1,e.ActiveTab="ShipOrderBaseInfo",e.HadModify=!1,e.DisputedType=0,e.DisputedCompName="",e.DisputedId=0,e.DisputedModal=!1,e.DisputedDetailsCompName="",e}return Object(n["a"])(t,[{key:"EmitOperateSuccess",value:function(){}},{key:"Validate",value:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.$set(this,"ShipOrderModal",!0),this.$set(this,"HadModify",!1),this["ShipOrder/UPDATE_SHIP_ORDER_INFO"](e),this.$set(this,"ActiveTab",t>0?"DisputedBaseInfo":"ShipOrderBaseInfo"),this.$set(this,"DisputedType",t),this.$set(this,"DisputedId",a),this.$set(this,"DisputedCompName",i),t>0&&this.$nextTick((function(){setTimeout((function(){r.$refs[i].Trigger(a,t)}),300)}))}},{key:"ChangeTabs",value:function(e){this.$set(this,"ActiveTab",e),"ShipOrderAS"===e?this.$refs.ShipOrderAfterSales.Trigger(this.SHIP_ORDER_INFO.Platform,this.SHIP_ORDER_INFO.OrderCode):"ShipOrderProfits"===e&&this.$refs.ShipOrderGrossProfits.Trigger()}},{key:"EmitDetailsOperateSuccess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ShipOrder/UPDATE_SHIP_ORDER_INFO";this[e](),this.$set(this,"HadModify",!0)}},{key:"EmitDisputedSuccess",value:function(){this.$set(this,"HadModify",!0),this.CancelShipOrderModal()}},{key:"CancelShipOrderModal",value:function(){this["ShipOrder/UPDATE_STATE_ASYN"]({SHIP_ORDER_INFO:{},SHIP_ORDER_ADDRESS:{},SHIP_ORDER_ITEMS:[],SHIP_ORDER_HISTORY:[],ORDER_PARAMS:new h["a"].InfoParams}),this["CustomerService/CLEAR_DISPUTED_ASYNC"](),this.HadModify&&this.EmitOperateSuccess(),this.$refs.ShipOrderAfterSales.Reset(),this.$set(this,"ShipOrderModal",!1),this.$set(this,"DisputedType",0),this.$set(this,"DisputedId",0)}},{key:"TriggerDisputedDetails",value:function(e,r){var t=this;r===this.DisputedCompName&&this.DisputedType>0&&this.DisputedId===e?this.$set(this,"ActiveTab","DisputedBaseInfo"):"AfterSalesOrderDetails"===r?this.$refs["AfterSalesOrderDetails"].Trigger(e,!1):(this.$set(this,"DisputedModal",!0),this.$set(this,"DisputedDetailsCompName",r),this.$nextTick((function(){t.$UI.Loading.Show(),setTimeout((function(){t.$refs["DisputedDetails".concat(r)].Trigger(e,1)}),300)})))}},{key:"CancelDisputedModal",value:function(){this.$set(this,"DisputedModal",!1),this.DisputedType<1&&this["CustomerService/CLEAR_DISPUTED_ASYNC"]()}},{key:"TriggerAfterSalesOrder",value:function(){this.$refs.ModifyAfterSalesOrder.TriggerCreate(this.SHIP_ORDER_INFO.OrderCode)}},{key:"UpdateShipOrderAfterSales",value:function(){this.$refs.ShipOrderAfterSales.Trigger(this.SHIP_ORDER_INFO.Platform,this.SHIP_ORDER_INFO.OrderCode)}},{key:"SHIP_ORDER_INFO",get:function(){return this["ShipOrder/SHIP_ORDER_INFO"]}},{key:"SHIP_ORDER_ADDRESS",get:function(){return this["ShipOrder/SHIP_ORDER_ADDRESS"]}},{key:"SHIP_ORDER_ITEMS",get:function(){return this["ShipOrder/SHIP_ORDER_ITEMS"]}},{key:"SHIP_ORDER_HISTORY",get:function(){return this["ShipOrder/SHIP_ORDER_HISTORY"]}},{key:"SHIP_ORDER_REMARK",get:function(){return this["ShipOrder/SHIP_ORDER_REMARK"]}}]),t}(p["d"]);l["a"]([c["a"]],m.prototype,"ShipOrder/UPDATE_SHIP_ORDER_INFO",void 0),l["a"]([c["a"]],m.prototype,"ShipOrder/UPDATE_SHIP_ORDER_REMARK",void 0),l["a"]([c["a"]],m.prototype,"ShipOrder/UPDATE_STATE_ASYN",void 0),l["a"]([c["a"]],m.prototype,"CustomerService/CLEAR_DISPUTED_ASYNC",void 0),l["a"]([c["b"]],m.prototype,"ShipOrder/SHIP_ORDER_ADDRESS",void 0),l["a"]([c["b"]],m.prototype,"ShipOrder/SHIP_ORDER_ITEMS",void 0),l["a"]([c["b"]],m.prototype,"ShipOrder/SHIP_ORDER_HISTORY",void 0),l["a"]([c["b"]],m.prototype,"ShipOrder/SHIP_ORDER_REMARK",void 0),l["a"]([c["b"]],m.prototype,"ShipOrder/SHIP_ORDER_INFO",void 0),l["a"]([Object(p["b"])()],m.prototype,"EmitOperateSuccess",null),m=l["a"]([Object(p["a"])({name:"ShipOrderDetails",components:{CancellationDetails:function(){return t.e("chunk-fe050eee").then(t.bind(null,"6c8e"))},NotReceivedGoodsDetails:function(){return t.e("chunk-6337a090").then(t.bind(null,"0e9f"))},RefundDetails:function(){return t.e("chunk-52c7bd59").then(t.bind(null,"41bd"))},CaseDetails:function(){return t.e("chunk-90065288").then(t.bind(null,"28e1"))},WishTicketDetails:function(){return t.e("chunk-030bb6d7").then(t.bind(null,"8e5c"))},ShopeeReturnRefundDetails:function(){return t.e("chunk-1dcad406").then(t.bind(null,"a085"))},ShopeeCancellationDetails:function(){return t.e("chunk-63d10547").then(t.bind(null,"dc35"))},AfterSalesOrderDetails:function(){return t.e("chunk-746eeca4").then(t.bind(null,"2c6c8"))},DisputedOperate:function(){return t.e("chunk-2d0d601d").then(t.bind(null,"715b"))},ModifyAfterSalesOrder:function(){return t.e("chunk-1d9ffbc2").then(t.bind(null,"3116"))},AllegroDisputedDetails:function(){return t.e("chunk-7aa9adf4").then(t.bind(null,"4f98"))}}})],m);var b=m,T=b,R=t("4023"),g=Object(R["a"])(T,a,i,!1,null,"290b9dee",null);r["default"]=g.exports},ca18:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("Col",{attrs:{span:"24"}},[e._l(e.GetUsablePowers(),(function(r,a){return t("span",{key:a},["AddShipOrderRemark"!==a?t(a,{directives:[{name:"show",rawName:"v-show",value:e.TOperations.find((function(e){return e===a})),expression:"TOperations.find(Itm => Itm === Item)"}],ref:a,refInFor:!0,tag:"component",staticClass:"P-Inline-Block P-MR-10 P-MB-10",attrs:{Page:e.Page},on:{"trigger-operations":e.TriggerOperations,"emit-operate-success":e.EmitOperateSuccess}}):e._e()],1)})),t("Table",{ref:"ShipOrderList",attrs:{columns:e.Cols,data:e.List,size:"small",stripe:"",height:e.CalculateHeight()},on:{"on-selection-change":e.GetSelectedData}}),t("Page",{staticClass:"P-MT-10",attrs:{current:e.Pager.PageIndex,total:e.Pager.TotalItems,"page-size":e.Pager.PageSize,"page-size-opts":e.Pager.PageSizeOpt,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":e.ChangePage,"on-page-size-change":e.ChangePageSize}})],2)},i=[],s=(t("d9b9"),t("3fa9"),t("5e8c"),t("76bb"),t("6ed5"),t("cee1"),t("f8cd"),t("6bf8"),t("3231")),n=t("064d"),o=t("46d7"),d=t("631e"),u=t("5c62"),l=t("4a81"),p=t("d11d"),c=t("a349"),h=t("1459"),S=t("db83"),O=[{Key:"ShipOrderExpand",Value:"./ShipOrderExpand"},{Key:"ShipOrderCreate",Value:"./Create"},{Key:"ShipOrderModify",Value:"./ModifyOrder"},{Key:"ImportShipOrder",Value:"./ImportShipOrder"},{Key:"ToConfirmed",Value:"./Confirm"},{Key:"ToNoCheck",Value:"./Check"},{Key:"ToCancel",Value:"./Cancel"},{Key:"ToHoldUp",Value:"./HoldUp"},{Key:"ToOutStock",Value:"./SetStockout"},{Key:"ToContact",Value:"./Contact"},{Key:"SplitShipOrder",Value:"./Split"},{Key:"MergeShipOrder",Value:"./Merge"},{Key:"ChangeShipWarehouse",Value:"./SetShipWarehouse"},{Key:"CancelFLSFlag",Value:"./CancelFLS"},{Key:"CancelLmaParcel",Value:"./CancelLMA"},{Key:"ReSentOrder",Value:"./Resent"},{Key:"SetShippingMethod",Value:"./SetShippingMethod"},{Key:"PrintLable",Value:"./PrintLabel"},{Key:"CreateBatchOrder",Value:"./CreateBatch"},{Key:"QuickCreateBatchOrder",Value:"./QuickCreateBatch"},{Key:"ReturnGoods",Value:"./ReturnGoods"},{Key:"UpdEdisPackage",Value:"./UpdateEdis"},{Key:"ExportShipOrder",Value:"./Export"},{Key:"SetTrackNumber",Value:"./SetTrackingNumber"},{Key:"ReplaceLogisticsLabel",Value:"./ReplaceLogisticsLabel"},{Key:"OrderReCreate",Value:"./ReCreate"},{Key:"SignShiped",Value:"./SignShiped"},{Key:"RevertPack",Value:"./RevertPack"},{Key:"ReviewShipOrder",Value:"./Review"},{Key:"ExportDetailsErrorOrder",Value:"./ExportSkuErrorOrder"}];function f(){for(var e=[],r=function(r,a){e.push((function(){return{component:t("9c61")("".concat(O[r].Value,".vue")),delay:1e3,timeout:3e3}}))},a=0,i=O.length;a<i;a++)r(a,i);return e}for(var y=Object(u["a"])(f()),P=y[0],D=(y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15],y[16],y[17],y[18],y[19],y[20],y[21],y[22],y[23],y[24],y[25],y[26],y[27],y[28],y[29],function(e,r){p["d"].component(O[e].Key,(function(r,a){setTimeout((function(){var a=O[e].Value;Promise.all([t.e("chunk-2d2132e8"),t.e("chunk-fc0c2f14"),t.e("chunk-7876b156"),t.e("chunk-1c57a13d")]).then(function(){var e=[t("d2b9")("".concat(a,".vue"))];r.apply(null,e)}.bind(this)).catch(t.oe)}),1e3)}))}),m=0,b=O.length;m<b;m++)D(m,b);var T=function(e){Object(o["a"])(t,e);var r=Object(d["a"])(t);function t(){var e;return Object(s["a"])(this,t),e=r.apply(this,arguments),e.Cols=[{type:"selection",width:60,align:"center"},{type:"expand",width:40,align:"center",render:function(e,r){return e(P,{props:{ShipOrder:r.row}})}},{title:"发货单/订单/标识",key:"",render:function(r,t){var a=e.GetShipOrderTags(t.row.ShipOrder),i=t.row.Remark.map((function(e){return r("p","".concat(e.UserName,"：").concat(e.Content))})),s=[r("div",{slot:"content"},i)],n=[r("Icon",{props:{type:"ios-text"}})],o=t.row.Remark.length?r("Tooltip",{class:"P-Table-Tip P-BG-Error"},n.concat(s)):"";return r("div",[r("a",{on:{click:function(){e.GetSelectedData([t.row]),e.$nextTick((function(){e.TriggerOperations("ShipOrderView",!0)}))}}},t.row.ShipOrder.OrderCode),r("p",t.row.ShipOrder.PlatformOrderId),r("p",a.map((function(e){return r("span",{class:"P-Table-Tip P-BG-Error"},e)})).concat(o))])}},{title:"国家/收件人/电话",key:"",render:function(e,r){var t=[{Key:"国",Value:"".concat(r.row.Address.Country?r.row.Address.Country.CountryNameCn:"-","(").concat(r.row.Address.Country?r.row.Address.Country.CountryName:"-",")")},{Key:"收",Value:r.row.Address.BuyerFullName||"-"},{Key:"电",Value:r.row.Address.BuyerPhone||"-"}];return e("div",t.map((function(r){return e("p",[e("span",{class:"P-Table-Tip P-BG-Primary"},r.Key),e("span",r.Value)])})))}},{title:"地址/邮编",width:300,render:function(e,r){return e("div",[e("Tooltip",{class:"P-LINE-3",props:{content:"".concat(r.row.Address.BuyerStreet2," ").concat(r.row.Address.BuyerStreet1," ").concat(r.row.Address.BuyerCity," ").concat(r.row.Address.BuyerState)}},[e("span",{class:"P-Table-Tip P-BG-Primary"},"地"),e("span","".concat(r.row.Address.BuyerStreet2," ").concat(r.row.Address.BuyerStreet1," ").concat(r.row.Address.BuyerCity," ").concat(r.row.Address.BuyerState))]),e("p",[e("span",{class:"P-Table-Tip P-BG-Primary"},"邮"),e("span",r.row.Address.BuyerZipCode||"-")])])}},{title:"交易号/原金额/美金金额",key:"",render:function(e,r){return e("div",[e("Tooltip",{props:{content:r.row.ShipOrder.TransationId||"-"},class:"P-LINE-1"},[e("span",{class:"P-Table-Tip P-BG-Primary"},"交"),e("span",r.row.ShipOrder.TransationId||"-")]),e("p",[e("span",{class:"P-Table-Tip P-BG-Primary"},"原"),e("span","".concat(r.row.ShipOrder.PayPrice).concat(r.row.ShipOrder.PayCurrency))]),e("p",[e("span",{class:"P-Table-Tip P-BG-Primary"},"美"),e("span","".concat(r.row.ShipOrder.TotalPrice,"USD"))])])}},{title:"物流渠道/跟踪号/批次号",key:"",render:function(e,r){var t=[{Key:"物",Value:r.row.ShipOrder.MethodName||"-"},{Key:"跟",Value:r.row.ShipOrder.TrackingNumber||"-"},{Key:"批",Value:r.row.ShipOrder.BatchNumber||"-"}];return e("div",t.map((function(r){return e("p",[e("span",{class:"P-Table-Tip P-BG-Primary"},r.Key),e("span",r.Value)])})))}},{title:"平台/店铺/买家ID",key:"",render:function(r,t){var a=[{Key:"平",Value:e.$Enums.Sales.Platform[t.row.ShipOrder.Platform]||"-"},{Key:"店",Value:t.row.ShipOrder.StoreName||"-"},{Key:"买",Value:t.row.ShipOrder.BuyerUserId||"-"}];return r("div",a.map((function(e){return r("p",[r("span",{class:"P-Table-Tip P-BG-Primary"},e.Key),r("span",e.Value)])})))}},{title:"发货仓/重量/运费",key:"",render:function(e,r){var t=[{Key:"仓",Value:r.row.ShipOrder.WarehouseName||"-"},{Key:"重",Value:r.row.ShipOrder.Weight||"-"},{Key:"运",Value:r.row.ShipOrder.ShipFee||"-"}];return e("div",t.map((function(r){return e("p",[e("span",{class:"P-Table-Tip P-BG-Primary"},r.Key),e("span",r.Value)])})))}},{title:"买家/操作/异常备注",key:"",render:function(e,r){var t=[{Key:"买",Value:r.row.ShipOrder.BuyerRemark||"-"},{Key:"操",Value:r.row.ShipOrder.Remark||"-"},{Key:"异",Value:r.row.ShipOrder.AutoMatchRemark||"-"}],a=[],i=t.map((function(r){return a.push(e("p","[".concat(r.Key,"] ").concat(r.Value))),e("p",{class:"P-LINE-1"},[e("span",{class:"P-Table-Tip P-BG-Primary"},r.Key),e("span",r.Value)])})),s=e("div",{slot:"content"},a);return e("Tooltip",{class:"P-W-100-Percent P-MT-5"},i.concat(s))}},{title:"下单/付款/发货时间",width:180,render:function(r,t){var a=[{Key:"下",Value:e.$UI.Render.Date(t.row.ShipOrder.CreateTime,!0)},{Key:"付",Value:e.$UI.Render.Date(t.row.ShipOrder.PaidTime,!0)},{Key:"发",Value:e.$UI.Render.Date(t.row.ShipOrder.ShipedTime,!0)}];return r("div",a.map((function(e){return r("p",[r("span",{class:"P-Table-Tip P-BG-Primary"},e.Key),r("span",e.Value)])})))}},{title:"操作",width:100,render:function(r,t){var a=e.GetOrderOperations(t.row);return r("Dropdown",{on:{"on-click":function(r){e.GetSelectedData([t.row]),e.$nextTick((function(){e.TriggerOperations(r,!0)}))}}},[r("a",[r("span",{class:"P-MR-5"},"操作"),r("Icon",{props:{type:"ios-arrow-down"}})]),r("DropdownMenu",{slot:"list"},a.map((function(e){return r("DropdownItem",{props:{name:e.Value},class:"P-TA-C"},e.Key)})))])}}],e.Pager=new S["a"].Pager,e.SelectedData=[],e.IsFromSales=!1,e.IsHasTopOperateUsable=!0,e}return Object(n["a"])(t,[{key:"EmitPagerChange",value:function(e){}},{key:"EmitDetails",value:function(e){}},{key:"EmitCloseSearch",value:function(){}},{key:"mounted",value:function(){this.SetStatus()}},{key:"SetStatus",value:function(){var e=this,r=["Confirmed","WaitPick","Picked","Packed","Shiped","StockOut","HoldUp","Contact","ClearOutStock"];!this.IsFromSales&&r.includes(this.Page)||this.Cols.splice(-1,0,{title:"状态",width:80,render:function(r,t){return r("span",e.$Enums.Warehouse.ShipOrderStatus[t.row.ShipOrder.Status])}})}},{key:"GetUsablePowers",value:function(){var e=this,r={},t={},a=function(a){e.SHIP_ORDER_POWERS[a]&&"AddShipOrderRemark"!==a&&(t[a]=e.SHIP_ORDER_POWERS[a],e.TOperations.find((function(e){return e===a}))&&(r[a]=e.SHIP_ORDER_POWERS[a]))};for(var i in this.SHIP_ORDER_POWERS)a(i);return this.$set(this,"IsHasTopOperateUsable",Object.keys(r).some((function(e){return!0===r[e]}))),t}},{key:"CalculateHeight",value:function(){return this.$UI.FullHeight()-210-(this.IsHasTopOperateUsable?42:0)}},{key:"ChangePage",value:function(e){this.$set(this.Pager,"PageIndex",e),this.EmitPagerChange(this.Pager)}},{key:"ChangePageSize",value:function(e){this.$set(this.Pager,"PageSize",e),this.EmitPagerChange(this.Pager)}},{key:"SetTotalItems",value:function(e){this.Pager.TotalItems=e}},{key:"PagerReset",value:function(){this.Pager=new S["a"].Pager}},{key:"EmitOperateSuccess",value:function(){this.CancelSelected(),this.EmitPagerChange(this.Pager)}},{key:"GetOrderOperations",value:function(e){var r=[];for(var t in this.SHIP_ORDER_POWERS)if(this.SHIP_ORDER_POWERS[t]){var a=e.ShipOrder.Status,i=e.ShipOrder.IsException,s=e.ShipOrder.MethodApiType,n=e.ShipOrder.ApiType,o=[15,16,17].includes(n),d=""!==e.ShipOrder.TrackingNumber,u=e.ShipOrder.ItemType,l=e.ShipOrder.ShipWarehouseId,p=e.ShipOrder.ShippingMethodId;switch(t){case"CancelFLSFlag":26===n&&d&&s&&[7,8,9,99].includes(a)&&r.push({Key:"取消FLS包裹单",Value:t});break;case"CancelLmaParcel":29===n&&d&&s&&[7,8,9,99].includes(a)&&r.push({Key:"取消LMA包裹单",Value:t});break;case"ShipOrderModify":([1,7,8,9].includes(a)||[2,3,4].includes(a)&&i)&&r.push({Key:"编辑",Value:t});break;case"ToConfirmed":[1,7,8,9].includes(a)&&l&&p&&r.push({Key:"确认",Value:t});break;case"ToCancel":[1,7,8,9].includes(a)&&r.push({Key:"取消",Value:t});break;case"ToContact":[2,7,8].includes(a)&&!o&&r.push({Key:"联系客户",Value:t});break;case"SplitShipOrder":1!==u&&([2,4,7,8,9].includes(a)&&!o||o&&i)&&r.push({Key:"拆分",Value:t});break;case"SetShippingMethod":([2,3].includes(a)&&i||[4,7,9].includes(a))&&r.push({Key:"设置物流渠道",Value:t});break;case"ChangeShipWarehouse":[7,9].includes(a)&&r.push({Key:"设置发货仓",Value:t});break;case"ToOutStock":3===a&&r.push({Key:"设置缺货",Value:t});break;case"ReSentOrder":6===a&&r.push({Key:"重发",Value:t});break;case"PrintLable":[5,6].includes(a)&&r.push({Key:"重打面单",Value:t});break;case"RevertPack":5===a&&r.push({Key:"还原打包",Value:t});break;case"ToNoCheck":99===a&&r.push({Key:"检查",Value:t});break;case"ToHoldUp":[2,3,4,5].includes(a)&&!o&&r.push({Key:"拦截",Value:t});break;case"UpdEdisPackage":20===n&&[7,8,9].includes(a)&&r.push({Key:"更新eDIS包裹",Value:t});break}}return r.push({Key:"查看",Value:"ShipOrderView"}),r}},{key:"GetShipOrderTags",value:function(e){var r=[],t=e.ShipOrderExt?JSON.parse(e.ShipOrderExt):new h["a"].ShipOrderExt;return r.push(e.IsApiDownLoad?"API":"手"),e.IsHoldUp&&r.push("拦截"),e.IsMerge&&r.push("合"),e.IsSplit&&r.push("拆"),e.IsReport&&r.push("报表"),e.IsException&&r.push("异"),t.LazadaGC&&r.push("GC"),t.WishExpress&&r.push("Wish WE"),t.WishEPC&&r.push("EPC"),t.PremiumCarrier&&r.push("优"),t.VovaIsCombinedOrder&&r.push("集运"),1===e.AfterSaleOrderType&&r.push("退"),2===e.AfterSaleOrderType&&r.push("重"),r}},{key:"GetSelectedData",value:function(e){this.$set(this,"SelectedData",e)}},{key:"CancelSelected",value:function(){this.$refs.ShipOrderList.selectAll(!1),this.GetSelectedData([])}},{key:"TriggerOperations",value:function(e,r){switch(this.EmitCloseSearch(),e){case"ShipOrderView":this.EmitDetails({OrderId:this.SelectedData[0].ShipOrder.Id,OrderCode:""}),this.CancelSelected();break;case"EbayMsgSend":this.$refs.EbayMsgSend[0].TriggerWrite(this.SelectedData);break;default:if(!this.SelectedData.length)return void this.$UI.Tips.Floating("warning","请选择发货订单进行操作");this.$refs[e][0].Validate(JSON.parse(JSON.stringify(this.SelectedData))),r&&this.CancelSelected();break}}},{key:"SHIP_ORDER_POWERS",get:function(){return this["ShipOrder/SHIP_ORDER_POWERS"]}}]),t}(p["d"]);l["a"]([Object(p["c"])(Array)],T.prototype,"List",void 0),l["a"]([Object(p["c"])({default:function(){return[]}})],T.prototype,"TOperations",void 0),l["a"]([Object(p["c"])(String)],T.prototype,"Page",void 0),l["a"]([c["b"]],T.prototype,"ShipOrder/SHIP_ORDER_POWERS",void 0),l["a"]([Object(p["b"])()],T.prototype,"EmitPagerChange",null),l["a"]([Object(p["b"])()],T.prototype,"EmitDetails",null),l["a"]([Object(p["b"])()],T.prototype,"EmitCloseSearch",null),T=l["a"]([Object(p["a"])({name:"ShipOrderList",components:{EbayMsgSend:function(){return t.e("chunk-2d0c5b2b").then(t.bind(null,"3fce"))}}})],T);var R=T,g=R,I=t("4023"),E=Object(I["a"])(g,a,i,!1,null,"0bd1337a",null);r["default"]=E.exports}}]);