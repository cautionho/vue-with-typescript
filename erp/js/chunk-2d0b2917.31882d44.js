(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2917"],{2553:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Row",[i("Form",{attrs:{inline:"","label-width":50,onsubmit:"return false;"}},[i("Col",{attrs:{span:"11"}},[i("FormItem",{attrs:{label:"渠道："}},[i("span",[e._v("eBay")])]),i("Table",{ref:"ShippingTB",attrs:{columns:e.ShippingCols,data:e.ShippingList,size:"small",height:400,border:""}}),i("Button",{staticClass:"P-MT-10",attrs:{type:"primary"},on:{click:e.SetSelected}},[e._v("添加到已选")])],1),i("Col",{attrs:{span:"11",offset:"2"}},[i("FormItem",{attrs:{label:"站点："}},[i("Select",{staticClass:"P-W-300",attrs:{placeholder:"站点",options:e.SiteDrop,onChange:e.GetShippingService}})],1),i("Table",{ref:"SelectedTB",attrs:{columns:e.SelectedCols,data:e.SelectedList,size:"small",height:400,border:""}}),i("Button",{staticClass:"P-MT-10",attrs:{type:"error"},on:{click:e.DelSelected}},[e._v("从已选列表中删除")])],1)],1)],1)},s=[],r=(i("d9b9"),i("2266"),i("5f3d"),i("76bb"),i("cee1"),i("6bf8"),i("7623"),i("522a"),i("52af"),i("e24e")),a=i("430a"),l=i("5c62"),c=i("3231"),o=i("064d"),p=i("46d7"),u=i("631e"),S=i("4a81"),h=i("d11d"),d=function(e){Object(p["a"])(i,e);var t=Object(u["a"])(i);function i(){var e;return Object(c["a"])(this,i),e=t.apply(this,arguments),e.ShippingList=[],e.SelectedList=[],e.SiteDrop=[],e.Site="",e.ShippingCols=[{type:"selection",width:60,align:"center"},{title:"待选运输类型",key:"Value"}],e.SelectedCols=[{type:"selection",width:60,align:"center"},{title:"已选运输类型",key:"Value"}],e}return Object(o["a"])(i,[{key:"Trigger",value:function(e){var t=this;this.$nextTick((function(){t.SiteDrop.length||t.GetDropList(t.$Server.Sales,t.$Api.Sales[1].Sites,"").then((function(e){var i;(i=t.SiteDrop).push.apply(i,Object(l["a"])(e))})),t.$set(t,"SelectedList",e)}))}},{key:"GetShippingService",value:function(e){var t=this;"number"===Object(a["a"])(e).toLowerCase()&&(this.$UI.Loading.Show(),this.GetDropList(this.$Server.Sales,this.$Api.Sales[1].ShippingService,e).then((function(e){t.$UI.Loading.Hide(),t.$set(t,"ShippingList",e)})))}},{key:"GetDropList",value:function(e,t,i){var n=this;return new Promise((function(s){n.$Request.Post({Server:e,Api:{Address:t},Data:i,Callback:function(e){e.IsSuccess?s(e.Data.DropList):(s([]),n.$Request.Error(e))}})}))}},{key:"SetSelected",value:function(){var e=this,t=this.$refs.ShippingTB.getSelection().concat(this.SelectedList).map((function(e){return JSON.stringify(e)})),i=new Set(t);this.$refs.ShippingTB.selectAll(!1),this.$nextTick((function(){e.$set(e,"SelectedList",Array.from(i).map((function(e){return JSON.parse(e)})))}))}},{key:"DelSelected",value:function(){var e=this,t=this.$refs.SelectedTB.getSelection().map((function(e){return JSON.stringify(e)}));this.$refs.SelectedTB.selectAll(!1),this.$nextTick((function(){var i,n=Object(r["a"])(t);try{var s=function(){var t=i.value;e.SelectedList.splice(e.SelectedList.findIndex((function(e){return JSON.stringify(e)===t})),1)};for(n.s();!(i=n.n()).done;)s()}catch(a){n.e(a)}finally{n.f()}}))}},{key:"GetSelected",value:function(){return this.SelectedList}}]),i}(h["d"]);d=S["a"]([h["a"]],d);var f=d,v=f,g=i("4023"),b=Object(g["a"])(v,n,s,!1,null,null,null);t["default"]=b.exports}}]);