(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22cd12"],{f59f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"P-Inline-Block"},[a("Col",[a("Button",{attrs:{type:"primary"},on:{click:e.$Trigger}},[e._v("打印SKU标签")]),a("Modal",{attrs:{title:"打印批次SKU标签","mask-closable":!1,width:600},on:{"on-cancel":function(t){return e.ClearModal(!1)}},model:{value:e.CurIsShowModal,callback:function(t){e.CurIsShowModal=t},expression:"CurIsShowModal"}},[a("Form",{ref:"CurOperateForm",attrs:{model:e.CurOperateForm,rules:e.CurOperateFormRules,"label-width":90,onsubmit:"return false"}},[a("Form-item",{attrs:{label:"批次号：",prop:"BatchCode"}},[a("Input",{ref:"BatchCode_Ipt",staticClass:"P-W-100-Percent",attrs:{placeholder:"请扫描批次号并回车"},on:{"on-enter":e.SubModal},model:{value:e.CurOperateForm.BatchCode,callback:function(t){e.$set(e.CurOperateForm,"BatchCode",t)},expression:"CurOperateForm.BatchCode"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.SubModal}},[e._v("打印")]),a("Button",{on:{click:function(t){return e.ClearModal(!1)}}},[e._v("取消")])],1)],1)],1)],1)},o=[],n=(a("9660"),a("0b78"),a("3231")),s=a("064d"),i=a("46d7"),u=a("631e"),l=a("4a81"),c=a("d11d"),d=a("1f41"),h=a("2437"),C=function(e){Object(i["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.CurIsShowModal=!1,e.CurOperateForm=new d["a"].PickBatchGetDetail,e.CurOperateFormRules={BatchCode:[{required:!0,message:"请输入批次号",trigger:"change"}]},e}return Object(s["a"])(a,[{key:"$Trigger",value:function(){this.CurIsShowModal=!0,this.FocusBatchCode()}},{key:"SubModal",value:function(){var e=this;this.$refs["CurOperateForm"].validate((function(t){t&&(e.$UI.Loading.Show(),e.$Request.Post({Server:e.$Server.Warehouse,Api:{Address:e.$Api.BatchOrderGetBatchOrderItem,Login:!0},Data:e.CurOperateForm,Callback:function(t){if(e.$UI.Loading.Hide(),t.IsSuccess){if(t.Data.Data.length<1)return e.$UI.Tips.Floating("warning","系统中不存在此批次"),void e.FocusBatchCode();e.PrintSkuLabel(t.Data.Data)}else e.$Request.Error(t)}}))}))}},{key:"PrintSkuLabel",value:function(e){for(var t=this,a=Object(h["a"])(),r=Math.ceil(e.length/40),o=1;o<=r;o++){a.PRINT_INITA("0mm","0mm","60mm","40mm",""),a.SET_PRINT_PAGESIZE(0,"60mm","40mm","SKU标签"),a.SET_PRINT_MODE("PRINT_NOCOLLATE",1);var n=this.$Utils.FilterPagination(o,40,e);n.forEach((function(e){t.$Utils.DesignSkuLabel(a,e.SkuCode,e.SkuCode,e.SkuName,e.LocationCode)})),a.PRINT()}this.$UI.Tips.Floating("success","打印批次SKU标签成功"),this.FocusBatchCode()}},{key:"FocusBatchCode",value:function(){var e=this;this.$refs["CurOperateForm"].resetFields(),this.$nextTick((function(){e.$refs["BatchCode_Ipt"].focus()}))}},{key:"ClearModal",value:function(){this.CurIsShowModal=!1,this.$refs["CurOperateForm"].resetFields()}}]),a}(c["d"]);C=l["a"]([Object(c["a"])({name:"PrintBatchSkuTag"})],C);var m=C,f=m,p=a("4023"),S=Object(p["a"])(f,r,o,!1,null,null,null);t["default"]=S.exports}}]);