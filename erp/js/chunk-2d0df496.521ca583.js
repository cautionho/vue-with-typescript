(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df496"],{"88ee":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"修改调拨需求","mask-closable":!1,width:"700"},on:{"on-cancel":function(e){return t.ModifyRes(!1)}},model:{value:t.ModifyModal,callback:function(e){t.ModifyModal=e},expression:"ModifyModal"}},[a("Table",{attrs:{columns:t.Columns,data:t.ProductData,border:""}}),a("footer",{staticClass:"P-TA-R",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.PostModify}},[t._v("修改")]),a("Button",{on:{click:function(e){return t.ModifyRes(!1)}}},[t._v("返回")])],1)],1)},n=[],i=a("3231"),u=a("064d"),r=a("46d7"),s=a("631e"),d=a("4a81"),c=a("d11d"),l=a("1f41"),f=function(t){Object(r["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.ProductData=[],t.ModifyModal=!1,t.Columns=[{title:"物品列表",children:[{title:"SKU编号",key:"SkuCode"},{title:"产品名",key:"SkuName"},{title:"调拨数量",key:"Quantity",render:function(e,a){return e("InputNumber",{props:{placeholder:"请输入调拨数量",value:a.row.Quantity},class:"P-W-98-Percent",on:{"on-change":function(e){t.SetTabInput(e,a.index,"Quantity")}}})}}]}],t}return Object(u["a"])(a,[{key:"ModifyRes",value:function(t){this.ModifyModal=!1,this.ProductData=[]}},{key:"TriggerModal",value:function(t){var e=new l["a"].ProductInfoTb;e.Id=t.Id,e.SkuCode=t.SkuCode,e.SkuName=t.SkuName,e.Quantity=t.Quantity,this.ProductData.push(e),this.ModifyModal=!0}},{key:"PostModify",value:function(){var t=this;0!=this.ProductData[0].Quantity?(this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Warehouse,Api:{Address:this.$Api.TransferRequireModify,Login:!0},Data:{Id:this.ProductData[0].Id,Quantity:this.ProductData[0].Quantity},Callback:function(e){t.$UI.Loading.Hide(),e.IsSuccess?(t.$UI.Tips.Floating("success","修改调拨需求成功"),t.ModifyRes(!0)):t.$Request.Error(e)}})):this.$UI.Tips.Floating("warning","调拨数量必须大于0")}},{key:"SetTabInput",value:function(t,e,a){this.ProductData[e][a]=t}}]),a}(c["d"]);d["a"]([Object(c["b"])()],f.prototype,"ModifyRes",null),f=d["a"]([Object(c["a"])({name:"ModifyTransferDemand"})],f);var y=f,h=y,p=a("4023"),M=Object(p["a"])(h,o,n,!1,null,null,null);e["default"]=M.exports}}]);