(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207b83"],{a273:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Row",{staticClass:"P-Inline-Block"},[e("Button",{staticClass:"P-MR-10",attrs:{type:"primary"},on:{click:function(a){return t.HandleToReview(!1,"ReturnEdit")}}},[t._v("退回修改")]),e("Button",{staticClass:"P-MR-10",attrs:{type:"primary"},on:{click:function(a){return t.HandleToReview(!1,"SuccessEdit")}}},[t._v("通过")]),e("Button",{staticClass:"P-MR-10",attrs:{type:"error"},on:{click:function(a){return t.HandleToReview(!1,"ErrorEdit")}}},[t._v("不通过")]),e("Modal",{attrs:{title:t.BatchEditTitle,"mask-closable":!1},on:{"on-cancel":function(a){return t.ClearModal(0)}},model:{value:t.ModifyModal,callback:function(a){t.ModifyModal=a},expression:"ModifyModal"}},[e("Form",{ref:"ChangeStatusData",attrs:{model:t.ChangeStatusData,"label-width":60,onsubmit:"return false"}},[e("Form-item",{attrs:{label:"备注：",prop:"Remark"}},[e("Input",{ref:"OperateInput",attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:"请输入备注"},model:{value:t.ChangeStatusData.Remark,callback:function(a){t.$set(t.ChangeStatusData,"Remark",a)},expression:"ChangeStatusData.Remark"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary"},on:{click:function(a){return t.PostToReview()}}},[t._v("提交")]),e("Button",{on:{click:function(a){return t.ClearModal(0)}}},[t._v("取消")])],1)],1)],1)},i=[],n=(e("e8f2"),e("3231")),o=e("064d"),r=e("46d7"),l=e("631e"),u=e("4a81"),c=e("d11d"),d=e("c638"),h=function(t){Object(r["a"])(e,t);var a=Object(l["a"])(e);function e(){var t;return Object(n["a"])(this,e),t=a.apply(this,arguments),t.ModifyModal=!1,t.BatchEditTitle="",t.ChangeStatusData=new d["a"].ChangeStatusData,t}return Object(o["a"])(e,[{key:"HandleResMsg",value:function(t,a){}},{key:"IsShowModal",value:function(t){var a=this;if(""!=t){switch(t){case"SuccessEdit":this.BatchEditTitle="审核通过",this.ChangeStatusData.Status=3;break;case"ErrorEdit":this.BatchEditTitle="审核不通过",this.ChangeStatusData.Status=4;break;case"ReturnEdit":this.BatchEditTitle="退回修改",this.ChangeStatusData.Status=1;break}if(0===this.SelectedData.length)return this.$UI.Tips.Floating("warning","请选择采购申请进行操作"),void this.HandleToReview(!1,"");for(var e in this.ChangeStatusData.Id=[],this.SelectedData){if(this.ChangeStatusData.Id.push(this.SelectedData[e].ApplySummary.Id),2!==this.SelectedData[e].ApplySummary.Status)return this.$UI.Tips.Floating("warning","请选择状态为待审核的采购申请进行审核操作"),void this.HandleToReview(!1,"");Number(e)>=this.SelectedData.length-1&&(this.$set(this,"ModifyModal",!0),this.$nextTick((function(){a.$refs["OperateInput"].focus()})))}}}},{key:"HandleToReview",value:function(t,a){this.HandleResMsg(t,a)}},{key:"PostToReview",value:function(){var t=this;this.$UI.Loading.Show(),this.$Request.Post({Server:this.$Server.Purchase,Api:{Address:this.$Api.PurchaseApplyChangeStatus,Login:!0},Data:this.ChangeStatusData,Callback:function(a){a.IsSuccess?(3==t.ChangeStatusData.Status?t.$UI.Tips.Floating("success","审核通过成功"):4==t.ChangeStatusData.Status?t.$UI.Tips.Floating("success","审核不通过成功"):1==t.ChangeStatusData.Status&&t.$UI.Tips.Floating("success","退回修改成功"),t.ClearModal(1)):t.$Request.Error(a),t.$UI.Loading.Hide()}})}},{key:"ClearModal",value:function(t){this.$set(this,"ModifyModal",!1),this.HandleToReview(1===t,""),this.ChangeStatusData=new d["a"].ChangeStatusData}}]),e}(c["d"]);u["a"]([Object(c["c"])()],h.prototype,"SelectedData",void 0),u["a"]([Object(c["c"])()],h.prototype,"TypeEdit",void 0),u["a"]([Object(c["b"])()],h.prototype,"HandleResMsg",null),u["a"]([Object(c["e"])("TypeEdit")],h.prototype,"IsShowModal",null),h=u["a"]([Object(c["a"])({name:"PurchaseApplyToReview"})],h);var p=h,S=p,f=e("4023"),v=Object(f["a"])(S,s,i,!1,null,"d04c8e12",null);a["default"]=v.exports}}]);