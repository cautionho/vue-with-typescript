(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c57a13d","chunk-2d0cfe53","chunk-2d0c8bc7"],{"55c4":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",[e.SHIP_ORDER_POWERS.AddShipOrderRemark?r("AddShipOrderRemark",{ref:"AddShipOrderRemark",staticClass:"P-Inline-Block P-MR-5",on:{"emit-operate-success":e.EmitOperateSuccess}}):e._e(),e._l(e.EnableOperate,(function(t,i){return r("span",{key:""+t.Value+i},[e.IsEnableOperate(t.Value)?r(t.Value,{ref:t.Value,refInFor:!0,tag:"component",staticClass:"P-Inline-Block P-MR-5",on:{"trigger-operations":e.TriggerOperations,"emit-operate-success":e.EmitOperateSuccess}}):e._e()],1)})),r("Button",{on:{click:e.CancelShipOrderModal}},[e._v("返回")])],2)},a=[],s=(r("6ed5"),r("6bf8"),r("3231")),n=r("064d"),o=r("46d7"),d=r("631e"),u=r("5c62"),p=r("4a81"),l=r("d11d"),c=r("a349"),h=[{Key:"AddShipOrderRemark",Value:"./AddRemark"},{Key:"CancelFLSFlag",Value:"./CancelFLS"},{Key:"CancelLmaParcel",Value:"./CancelLMA"},{Key:"ShipOrderModify",Value:"./ModifyOrder"},{Key:"ToConfirmed",Value:"./Confirm"},{Key:"ToCancel",Value:"./Cancel"},{Key:"ToHoldUp",Value:"./HoldUp"},{Key:"ToContact",Value:"./Contact"},{Key:"ToNoCheck",Value:"./Check"},{Key:"ReSentOrder",Value:"./Resent"},{Key:"SetShippingMethod",Value:"./SetShippingMethod"},{Key:"ChangeShipWarehouse",Value:"./SetShipWarehouse"},{Key:"SplitShipOrder",Value:"./Split"},{Key:"UpdEdisPackage",Value:"./UpdateEdis"}];function O(){for(var e=[],t=function(t,i){e.push((function(){return{component:r("9c61")("".concat(h[t].Value,".vue")),delay:1e3,timeout:3e3}}))},i=0,a=h.length;i<a;i++)t(i,a);return e}for(var S=Object(u["a"])(O()),f=(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8],S[9],S[10],S[11],S[12],S[13],function(e,t){l["d"].component(h[e].Key,(function(t,i){setTimeout((function(){var i=h[e].Value;Promise.all([r.e("chunk-2d2132e8"),r.e("chunk-fc0c2f14"),r.e("chunk-7876b156"),r.e("chunk-1c6d2971")]).then(function(){var e=[r("d2b9")("".concat(i,".vue"))];t.apply(null,e)}.bind(this)).catch(r.oe)}),1e3)}))}),R=0,D=h.length;R<D;R++)f(R,D);var _=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(s["a"])(this,r),e=t.apply(this,arguments),e.EnableOperate=[],e}return Object(n["a"])(r,[{key:"CancelShipOrderModal",value:function(){}},{key:"EmitOperateSuccess",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"mounted",value:function(){this.SetEnableOperate()}},{key:"SetEnableOperate",value:function(){for(var e in this.EnableOperate=[],this.SHIP_ORDER_POWERS)if(this.SHIP_ORDER_POWERS[e])switch(e){case"CancelFLSFlag":this.EnableOperate.push({Key:"取消FLS包裹单",Value:e});break;case"CancelLmaParcel":this.EnableOperate.push({Key:"取消LMA包裹单",Value:e});break;case"ShipOrderModify":this.EnableOperate.push({Key:"编辑",Value:e});break;case"ToConfirmed":this.EnableOperate.push({Key:"确认",Value:e});break;case"ToCancel":this.EnableOperate.push({Key:"取消",Value:e});break;case"ToHoldUp":this.EnableOperate.push({Key:"拦截",Value:e});break;case"ToContact":this.EnableOperate.push({Key:"联系客户",Value:e});break;case"ToNoCheck":this.EnableOperate.push({Key:"检查",Value:e});break;case"ReSentOrder":this.EnableOperate.push({Key:"重发",Value:e});break;case"SetShippingMethod":this.EnableOperate.push({Key:"设置发货渠道",Value:e});break;case"ChangeShipWarehouse":this.EnableOperate.push({Key:"设置发货仓",Value:e});break;case"SplitShipOrder":this.EnableOperate.push({Key:"拆分",Value:e});break;case"UpdEdisPackage":this.EnableOperate.push({Key:"更新EDIS包裹单",Value:e});break}}},{key:"IsEnableOperate",value:function(e){var t=this,r=this.SHIP_ORDER_INFO.Status,i=this.SHIP_ORDER_INFO.ApiType,a=""!==this.SHIP_ORDER_INFO.TrackingNumber,s=""!==this.SHIP_ORDER_INFO.MethodApiCode,n=this.SHIP_ORDER_INFO.IsException||!1,o=this.SHIP_ORDER_INFO.ItemType,d=[15,16,17].some((function(e){return t.SHIP_ORDER_INFO.ApiType===e})),u=0!==this.SHIP_ORDER_INFO.ShipWarehouseId,p=0!==this.SHIP_ORDER_INFO.ShippingMethodId;switch(e){case"CancelFLSFlag":return 26===i&&[7,8,9,99].some((function(e){return e===r}))&&a&&s;case"CancelLmaParcel":return 29===i&&[7,8,9,99].some((function(e){return e===r}))&&a&&s;case"ShipOrderModify":return[1,7,8,9].some((function(e){return e===r}))||[2,3,4].some((function(e){return e===r}))&&n;case"ToConfirmed":return[1,7,8,9].some((function(e){return e===r}))&&u&&p;case"ToCancel":return[1,7,8,9].some((function(e){return e===r}));case"ToHoldUp":return[2,3,4,5].some((function(e){return e===r}))&&!d;case"ToContact":return[2,7,8].some((function(e){return e===r}))&&!d;case"ToNoCheck":return 99===r;case"ReSentOrder":return 6===r;case"SetShippingMethod":return[7,9].some((function(e){return e===r}));case"ChangeShipWarehouse":case"SplitShipOrder":return 1!==o&&[2,4,7].some((function(e){return e===r}))&&!d;case"UpdEdisPackage":return 20===i&&[7,8,9].some((function(e){return e===r}));default:return!1}}},{key:"TriggerOperations",value:function(e){this.$refs[e][0].Validate([{ShipOrder:this.SHIP_ORDER_INFO,Address:this.SHIP_ORDER_ADDRESS,Remark:this.SHIP_ORDER_REMARK}])}},{key:"TriggerRemark",value:function(){}},{key:"SHIP_ORDER_INFO",get:function(){return this["ShipOrder/SHIP_ORDER_INFO"]}},{key:"SHIP_ORDER_ADDRESS",get:function(){return this["ShipOrder/SHIP_ORDER_ADDRESS"]}},{key:"SHIP_ORDER_REMARK",get:function(){return this["ShipOrder/SHIP_ORDER_REMARK"]}},{key:"SHIP_ORDER_POWERS",get:function(){return this["ShipOrder/SHIP_ORDER_POWERS"]}}]),r}(l["d"]);p["a"]([c["b"]],_.prototype,"ShipOrder/SHIP_ORDER_INFO",void 0),p["a"]([c["b"]],_.prototype,"ShipOrder/SHIP_ORDER_ADDRESS",void 0),p["a"]([c["b"]],_.prototype,"ShipOrder/SHIP_ORDER_REMARK",void 0),p["a"]([c["b"]],_.prototype,"ShipOrder/SHIP_ORDER_POWERS",void 0),p["a"]([Object(l["b"])()],_.prototype,"CancelShipOrderModal",null),p["a"]([Object(l["b"])()],_.prototype,"EmitOperateSuccess",null),_=p["a"]([Object(l["a"])({name:"ShipOrderDetailsOperate",components:{}})],_);var E=_,b=E,I=r("4023"),m=Object(I["a"])(b,i,a,!1,null,"6f8e93ce",null);t["default"]=m.exports},6652:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"P-Inline-Block"},[r("Modal",{staticClass:"Container-Tabs",attrs:{title:e.DisputedType>1?"处理纠纷":0===e.DisputedType?"发货订单详情":"纠纷详情","mask-closable":!1,width:1200},on:{"on-cancel":e.CancelShipOrderModal},model:{value:e.ShipOrderModal,callback:function(t){e.ShipOrderModal=t},expression:"ShipOrderModal"}},[r("Tabs",{attrs:{type:"card",name:"ShipOrderDetailsTabs",closable:!1,value:e.ActiveTab},on:{"on-click":e.ChangeTabs}},[e.DisputedType>0?r("TabPane",{attrs:{label:"纠纷详情",name:"DisputedBaseInfo",tab:"ShipOrderDetailsTabs",index:1}},[e.DisputedCompName?r(e.DisputedCompName,{ref:e.DisputedCompName,tag:"component",on:{"emit-operate-success":e.EmitDisputedSuccess,"emit-cancel-details":e.CancelShipOrderModal}}):e._e()],1):e._e(),r("TabPane",{attrs:{label:"基本信息",name:"ShipOrderBaseInfo",tab:"ShipOrderDetailsTabs",index:2}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?r("ShipOrderBaseInfo",{on:{"emit-operate-success":e.EmitDetailsOperateSuccess}}):e._e()],1),r("TabPane",{attrs:{label:"订单明细",name:"ShipOrderItems",tab:"ShipOrderDetailsTabs",index:3}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?r("ShipOrderItems"):e._e()],1),r("TabPane",{attrs:{label:"配送地址",name:"ShipOrderAddress",tab:"ShipOrderDetailsTabs",index:4}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?r("ShipOrderAddress"):e._e()],1),r("TabPane",{attrs:{label:"发货物流",name:"ShipOrderLogistics",tab:"ShipOrderDetailsTabs",index:5}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?r("ShipOrderLogistics"):e._e()],1),r("TabPane",{attrs:{label:"售后",name:"ShipOrderAS",tab:"ShipOrderDetailsTabs",index:6}},[r("ShipOrderAfterSales",{ref:"ShipOrderAfterSales",on:{"emit-disputed-details":e.TriggerDisputedDetails,"emit-after-sales-order":e.TriggerAfterSalesOrder}})],1),r("TabPane",{attrs:{label:"操作记录",name:"ShipOrderHistory",tab:"ShipOrderDetailsTabs",index:7}},[e.SHIP_ORDER_INFO.Id&&e.ShipOrderModal?r("ShipOrderHistory"):e._e()],1),e.SHIP_ORDER_INFO.IsReport?r("TabPane",{attrs:{label:"毛利",name:"ShipOrderProfits",tab:"ShipOrderDetailsTabs",index:8}},[r("ShipOrderGrossProfits",{ref:"ShipOrderGrossProfits"})],1):e._e()],1),r("footer",{attrs:{slot:"footer"},slot:"footer"},[e.DisputedType<2?r("ShipOrderDetailsOperate",{ref:"ShipOrderDetailsOperate",on:{"cancel-ship-order-modal":e.CancelShipOrderModal,"emit-operate-success":e.EmitDetailsOperateSuccess}}):r("DisputedOperate",{attrs:{DisputedCompName:e.DisputedCompName,DisputedType:e.DisputedType},on:{"cancel-ship-order-modal":e.CancelShipOrderModal,"emit-operate-success":e.EmitDetailsOperateSuccess}})],1)],1),r("Modal",{attrs:{title:"纠纷详情",width:1e3},on:{"on-cancel":e.CancelDisputedModal},model:{value:e.DisputedModal,callback:function(t){e.DisputedModal=t},expression:"DisputedModal"}},[r(e.DisputedDetailsCompName,{ref:"DisputedDetails"+e.DisputedDetailsCompName,tag:"component"}),r("footer",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:e.CancelDisputedModal}},[e._v("返回")])],1)],1),r("ModifyAfterSalesOrder",{ref:"ModifyAfterSalesOrder",on:{"emit-operate-success":e.UpdateShipOrderAfterSales}}),r("AfterSalesOrderDetails",{ref:"AfterSalesOrderDetails"})],1)},a=[],s=(r("6bf8"),r("3231")),n=r("064d"),o=r("46d7"),d=r("631e"),u=r("5c62"),p=r("4a81"),l=r("d11d"),c=r("a349"),h=r("1459"),O=[{Key:"ShipOrderBaseInfo",Value:"./ShipOrderBaseInfo"},{Key:"ShipOrderItems",Value:"./ShipOrderItems"},{Key:"ShipOrderAddress",Value:"./ShipOrderAddress"},{Key:"ShipOrderLogistics",Value:"./ShipOrderLogistics"},{Key:"ShipOrderHistory",Value:"./ShipOrderHistory"},{Key:"ShipOrderDetailsOperate",Value:"./ShipOrderDetailsOperate"},{Key:"ShipOrderAfterSales",Value:"./ShipOrderAfterSales"},{Key:"ShipOrderGrossProfits",Value:"./ShipOrderGrossProfits"}];function S(){for(var e=[],t=function(t,i){e.push((function(){return{component:r("9c61")("".concat(O[t].Value,".vue")),delay:1e3,timeout:3e3}}))},i=0,a=O.length;i<a;i++)t(i,a);return e}for(var f=Object(u["a"])(S()),R=(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],function(e,t){l["d"].component(O[e].Key,(function(t,i){setTimeout((function(){var i=O[e].Value;Promise.all([r.e("chunk-2d2132e8"),r.e("chunk-fc0c2f14"),r.e("chunk-7876b156"),r.e("chunk-b5e03706")]).then(function(){var e=[r("d2b9")("".concat(i,".vue"))];t.apply(null,e)}.bind(this)).catch(r.oe)}),1e3)}))}),D=0,_=O.length;D<_;D++)R(D,_);var E=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(s["a"])(this,r),e=t.apply(this,arguments),e.ShipOrderModal=!1,e.ActiveTab="ShipOrderBaseInfo",e.HadModify=!1,e.DisputedType=0,e.DisputedCompName="",e.DisputedId=0,e.DisputedModal=!1,e.DisputedDetailsCompName="",e}return Object(n["a"])(r,[{key:"EmitOperateSuccess",value:function(){}},{key:"Validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.$set(this,"ShipOrderModal",!0),this.$set(this,"HadModify",!1),this["ShipOrder/UPDATE_SHIP_ORDER_INFO"](e),this.$set(this,"ActiveTab",r>0?"DisputedBaseInfo":"ShipOrderBaseInfo"),this.$set(this,"DisputedType",r),this.$set(this,"DisputedId",i),this.$set(this,"DisputedCompName",a),r>0&&this.$nextTick((function(){setTimeout((function(){t.$refs[a].Trigger(i,r)}),300)}))}},{key:"ChangeTabs",value:function(e){this.$set(this,"ActiveTab",e),"ShipOrderAS"===e?this.$refs.ShipOrderAfterSales.Trigger(this.SHIP_ORDER_INFO.Platform,this.SHIP_ORDER_INFO.OrderCode):"ShipOrderProfits"===e&&this.$refs.ShipOrderGrossProfits.Trigger()}},{key:"EmitDetailsOperateSuccess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ShipOrder/UPDATE_SHIP_ORDER_INFO";this[e](),this.$set(this,"HadModify",!0)}},{key:"EmitDisputedSuccess",value:function(){this.$set(this,"HadModify",!0),this.CancelShipOrderModal()}},{key:"CancelShipOrderModal",value:function(){this["ShipOrder/UPDATE_STATE_ASYN"]({SHIP_ORDER_INFO:{},SHIP_ORDER_ADDRESS:{},SHIP_ORDER_ITEMS:[],SHIP_ORDER_HISTORY:[],ORDER_PARAMS:new h["a"].InfoParams}),this["CustomerService/CLEAR_DISPUTED_ASYNC"](),this.HadModify&&this.EmitOperateSuccess(),this.$refs.ShipOrderAfterSales.Reset(),this.$set(this,"ShipOrderModal",!1),this.$set(this,"DisputedType",0),this.$set(this,"DisputedId",0)}},{key:"TriggerDisputedDetails",value:function(e,t){var r=this;t===this.DisputedCompName&&this.DisputedType>0&&this.DisputedId===e?this.$set(this,"ActiveTab","DisputedBaseInfo"):"AfterSalesOrderDetails"===t?this.$refs["AfterSalesOrderDetails"].Trigger(e,!1):(this.$set(this,"DisputedModal",!0),this.$set(this,"DisputedDetailsCompName",t),this.$nextTick((function(){r.$UI.Loading.Show(),setTimeout((function(){r.$refs["DisputedDetails".concat(t)].Trigger(e,1)}),300)})))}},{key:"CancelDisputedModal",value:function(){this.$set(this,"DisputedModal",!1),this.DisputedType<1&&this["CustomerService/CLEAR_DISPUTED_ASYNC"]()}},{key:"TriggerAfterSalesOrder",value:function(){this.$refs.ModifyAfterSalesOrder.TriggerCreate(this.SHIP_ORDER_INFO.OrderCode)}},{key:"UpdateShipOrderAfterSales",value:function(){this.$refs.ShipOrderAfterSales.Trigger(this.SHIP_ORDER_INFO.Platform,this.SHIP_ORDER_INFO.OrderCode)}},{key:"SHIP_ORDER_INFO",get:function(){return this["ShipOrder/SHIP_ORDER_INFO"]}},{key:"SHIP_ORDER_ADDRESS",get:function(){return this["ShipOrder/SHIP_ORDER_ADDRESS"]}},{key:"SHIP_ORDER_ITEMS",get:function(){return this["ShipOrder/SHIP_ORDER_ITEMS"]}},{key:"SHIP_ORDER_HISTORY",get:function(){return this["ShipOrder/SHIP_ORDER_HISTORY"]}},{key:"SHIP_ORDER_REMARK",get:function(){return this["ShipOrder/SHIP_ORDER_REMARK"]}}]),r}(l["d"]);p["a"]([c["a"]],E.prototype,"ShipOrder/UPDATE_SHIP_ORDER_INFO",void 0),p["a"]([c["a"]],E.prototype,"ShipOrder/UPDATE_SHIP_ORDER_REMARK",void 0),p["a"]([c["a"]],E.prototype,"ShipOrder/UPDATE_STATE_ASYN",void 0),p["a"]([c["a"]],E.prototype,"CustomerService/CLEAR_DISPUTED_ASYNC",void 0),p["a"]([c["b"]],E.prototype,"ShipOrder/SHIP_ORDER_ADDRESS",void 0),p["a"]([c["b"]],E.prototype,"ShipOrder/SHIP_ORDER_ITEMS",void 0),p["a"]([c["b"]],E.prototype,"ShipOrder/SHIP_ORDER_HISTORY",void 0),p["a"]([c["b"]],E.prototype,"ShipOrder/SHIP_ORDER_REMARK",void 0),p["a"]([c["b"]],E.prototype,"ShipOrder/SHIP_ORDER_INFO",void 0),p["a"]([Object(l["b"])()],E.prototype,"EmitOperateSuccess",null),E=p["a"]([Object(l["a"])({name:"ShipOrderDetails",components:{CancellationDetails:function(){return r.e("chunk-fe050eee").then(r.bind(null,"6c8e"))},NotReceivedGoodsDetails:function(){return r.e("chunk-6337a090").then(r.bind(null,"0e9f"))},RefundDetails:function(){return r.e("chunk-52c7bd59").then(r.bind(null,"41bd"))},CaseDetails:function(){return r.e("chunk-90065288").then(r.bind(null,"28e1"))},WishTicketDetails:function(){return r.e("chunk-030bb6d7").then(r.bind(null,"8e5c"))},ShopeeReturnRefundDetails:function(){return r.e("chunk-1dcad406").then(r.bind(null,"a085"))},ShopeeCancellationDetails:function(){return r.e("chunk-63d10547").then(r.bind(null,"dc35"))},AfterSalesOrderDetails:function(){return r.e("chunk-746eeca4").then(r.bind(null,"2c6c8"))},DisputedOperate:function(){return r.e("chunk-2d0d601d").then(r.bind(null,"715b"))},ModifyAfterSalesOrder:function(){return r.e("chunk-1d9ffbc2").then(r.bind(null,"3116"))},AllegroDisputedDetails:function(){return r.e("chunk-7aa9adf4").then(r.bind(null,"4f98"))}}})],E);var b=E,I=b,m=r("4023"),y=Object(m["a"])(I,i,a,!1,null,"290b9dee",null);t["default"]=y.exports}}]);